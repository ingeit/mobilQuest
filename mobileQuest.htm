<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0043)http://mobilequest.com.ar/seguimiento2.php# -->
<html style="height: 100%; overflow-y: hidden; box-sizing: unset;" xmlns="http://www.w3.org/1999/xhtml"><head style="box-sizing: unset;"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css" style="box-sizing: unset;">.gm-style .gm-style-iw{font-weight:300;font-size:13px;overflow:hidden}.gm-style .gm-iw{color:#2c2c2c}.gm-style .gm-iw b{font-weight:400}.gm-style .gm-iw a:link,.gm-style .gm-iw a:visited{color:#4272db;text-decoration:none}.gm-style .gm-iw a:hover{color:#4272db;text-decoration:underline}.gm-style .gm-iw .gm-title{font-weight:400;margin-bottom:1px}.gm-style .gm-iw .gm-basicinfo{line-height:18px;padding-bottom:12px}.gm-style .gm-iw .gm-website{padding-top:6px}.gm-style .gm-iw .gm-photos{padding-bottom:8px;-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none}.gm-style .gm-iw .gm-sv,.gm-style .gm-iw .gm-ph{cursor:pointer;height:50px;width:100px;position:relative;overflow:hidden}.gm-style .gm-iw .gm-sv{padding-right:4px}.gm-style .gm-iw .gm-wsv{cursor:pointer;position:relative;overflow:hidden}.gm-style .gm-iw .gm-sv-label,.gm-style .gm-iw .gm-ph-label{cursor:pointer;position:absolute;bottom:6px;color:#fff;font-weight:400;text-shadow:rgba(0,0,0,0.7) 0 1px 4px;font-size:12px}.gm-style .gm-iw .gm-stars-b,.gm-style .gm-iw .gm-stars-f{height:13px;font-size:0}.gm-style .gm-iw .gm-stars-b{position:relative;background-position:0 0;width:65px;top:3px;margin:0 5px}.gm-style .gm-iw .gm-rev{line-height:20px;-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none}.gm-style.gm-china .gm-iw .gm-rev{display:none}.gm-style .gm-iw .gm-numeric-rev{font-size:16px;color:#dd4b39;font-weight:400}.gm-style .gm-iw.gm-transit{margin-left:15px}.gm-style .gm-iw.gm-transit td{vertical-align:top}.gm-style .gm-iw.gm-transit .gm-time{white-space:nowrap;color:#676767;font-weight:bold}.gm-style .gm-iw.gm-transit img{width:15px;height:15px;margin:1px 5px 0 -20px;float:left}
.gm-iw {text-align:left;}.gm-iw .gm-numeric-rev {float:left;}.gm-iw .gm-photos,.gm-iw .gm-rev {direction:ltr;}.gm-iw .gm-stars-f, .gm-iw .gm-stars-b {background:url("http://maps.gstatic.com/mapfiles/api-3/images/review_stars_hdpi.png") no-repeat;background-size: 65px 26px;float:left;}.gm-iw .gm-stars-f {background-position:left -13px;}.gm-iw .gm-sv-label,.gm-iw .gm-ph-label {left: 4px;}</style><style type="text/css" style="box-sizing: unset;">.gm-style .gm-style-mtc label,.gm-style .gm-style-mtc div{font-weight:400}
</style><link type="text/css" rel="stylesheet" href="./mobileQuest_files/css" style="box-sizing: unset;"><style type="text/css" style="box-sizing: unset;">.gm-style .gm-style-cc span,.gm-style .gm-style-cc a,.gm-style .gm-style-mtc div{font-size:10px}
</style><style type="text/css" style="box-sizing: unset;">@media print {  .gm-style .gmnoprint, .gmnoprint {    display:none  }}@media screen {  .gm-style .gmnoscreen, .gmnoscreen {    display:none  }}</style><style type="text/css" style="box-sizing: unset;">.gm-style-pbc{transition:opacity ease-in-out;background-color:rgba(0,0,0,0.45);text-align:center}.gm-style-pbt{font-size:22px;color:white;font-family:Roboto,Arial,sans-serif;position:relative;margin:0;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}
</style>
    	
<style type="text/css" id="estiloSeguimiento" style="box-sizing: unset;">
body{
	width:100%;
	height:100%;
	margin:0;
	padding:0;
	overflow:auto;
}
#top{
	height:40px;
	min-width:980px;
	width:100%;
	background-color:#000;
	color:#FFF;
	font-family: Arial;
	font-size: 0.9em;
	font-weight: bold;
	position:absolute;	
}
#panel_superior{
	height:60px;
	min-width:980px;
	width:100%;
	top:40px;
	background-color:#FFF;
	border-bottom: 2px solid #333;
	position:absolute;
}
#logo{
	float:left;
	position:relative;
	top:5px;
	padding-left: 10px;
	height:50px;
	width:250px;
}
#regresiva{
	display:inline-block;
	margin-left:265px;
	margin-top:10px;
	font-size:0.8em;
	font-family: Arial;
	color:#FFF;
	font-weight:normal;
	position:absolute;
}		
#hora_update{
	margin-top: 1.8%;
	margin-left:20%;
	color:#000;
	font-family: Arial;
	font-size: 0.9em;
	font-weight: bold;
	display:inline-block;
}
#panel_izq{
	width:356px;
	min-height:400px;
	left:0;
	top:102px; 
	position:absolute;
	z-index:2;
	overflow:auto;
	font-family: sans-serif;
	font-size: 0.9em;
	color:#FFFFFF;
	/*background-color:rgba(230,120,23,0.75);*/
	background-color:rgba(0,0,0,0.75);
}
#map_canvas{
	margin-top:102px;
	min-height:400px;
	left:356px;
	min-width:624px;	
	position:absolute;
	z-index:0;
}
#flecha_muestra_panel{
	position:absolute;
	top:51.5px;
	z-index:1;
}	
#panel_izq button{
	font-size:0.6em;
	margin-left:1.7%;
}
#info_cliente{
	width:100%;
	font-size:1.2em;
	background-color:#E67817;
	padding-top:15px;
	padding-bottom:15px;
	text-align:center;
	margin:0;
	font-weight:bold;
	position:absolute;
	border-bottom: 2px solid #333;	
}
#flecha_oculta_panel{
	margin: 0;
	right:0;
	background-color:#FFF;
	font-size:1.2em;
	padding-top:15px;
	padding-bottom:15px;
	font-weight:bold;
	position:absolute;
}
#boton_mapa{
	left:0%;
	position:absolute;
}
#info_flota{
	margin-top:50px;
}
#elementos_del_recorrido{
	margin-top:40px;
	margin-left:-15px;
	font-weight:bold;
}
#boton_oculta_div{
	text-align:center;
	font-family:Verdana, Geneva, sans-serif;
	margin-bottom:20px;
}
#dialogo{
	margin-top:5%;
	font-family: "Lucida Grande", "Arial", sans-serif;
	font-size: 0.9em;
	font-weight: bold;
}
#recorrido{
	margin-top:15px;
}
#info_vehiculo_seleccionado{
	margin-right:20px;
}
#alertas_del_recorrido{
	margin-left:10%;
	line-height:25px;	
}
#resumen_del_recorrido{
	margin-left:10%;
	line-height:20px;
}
#contenedor_referencia{
	top:102.5px;
	right:0;
	min-height:400px;
	position:absolute;
	z-index:1000;
	background-color:rgba(0,0,0,0.75); 
	width:23%;
	overflow:auto;
}
.overlay{
	display: none;
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: #000;
	z-index:3;
	opacity:.75;
	-moz-opacity: 0.75;
	filter: alpha(opacity=75);
}
.contenedor_flotante {
	display: none;
	position: absolute;
	top: 10%;
	left: 10%;
	width: 80%;
	height: 80%;
	padding: 0;
	background: #fff;
	color: #333;
	z-index:4;
	overflow: auto;
}
.labels {
	color: red;
	background-color: white;
	font-family: "Lucida Grande", "Arial", sans-serif;
	font-size: 12;
	font-weight: bold;
	text-align: center;
	width: auto; 
	border: 2px solid black;
	white-space: nowrap;
}
.labels2 {
	color: #FFF;
	font-family:"Times New Roman", Times, serif;
	font-size: 12;
	font-weight: bold;
	text-align: center;
	width: 40px;     
} 
.labels_icono_alertas {
	color:#000;
	font-family: "Corbel", sans-serif;
	font-size: 1em;
	font-weight: bold;
	text-align: center;
	width: 40px;     
}
.labels_numero_parada {
	color:#381f0f;
	background-color: #f5d016;
	font-family: "Corbel", sans-serif;
	font-size: 0.9em;
	font-weight: bold;
	text-align: center;
	width: 10px;     
}
.labels_numero_parada_2d {
	color:#381f0f;
	background-color: #f5d016;
	font-family: "Corbel", sans-serif;
	font-size: 0.9em;
	font-weight: bold;
	text-align: center;
	width: 20px;     
}
.seleccion_vehiculo{
	visibility:visible;
	/*background-color:#090;*/
}
.titulo{
	width: 100%;
	height: 2%;
	float:none;
	padding-top:1.5%;
	padding-bottom:1.5%;
	background-color:#000;
	color:#FFF;
	font-family: Arial;
	font-size: 1em;
	font-weight: bold;
	text-align:center;
}
.alternomasmenos{
	font-size:0.6em;
}
.alternoverocultar{
	margin-top:3px;
}
.referencia{
	color:#000;
	padding-top:40px;
	font-family: Arial;
	font-size: 0.9em;
	font-weight: bold;
	float:right;
	display:inline-block;
}
.overflow_select{
	min-width:100px;
	width:auto;
  	max-height:35em;
	position:absolute;
	z-index:5;
}
ul.info li{
	list-style:none;
	line-height:25px;
	font-weight:bold;
	margin-left:-15px;
}
ul.info button{
	margin-top:3px;
}
ul.referencia{
	margin:0;
	float:left;
	padding:0;
	width:98%;
}
ul.referencia li{
	float:left;
	list-style:none;
	border-style:solid;
	border-width:thin; 
	border-color:#666;
	margin-top:0.5%;
	margin-left:0.5%;
	margin-right:0.5%;
	color:#FFFFFF;
	text-align:left;
	font-family: "Corbel", sans-serif;
	font-size: 0.95em;
}
/* css for timepicker */
div.ui-datepicker, .ui-datepicker td{
	font-size:11px;
}
.ui-menu{ 
	position:absolute;
	z-index:4;	
}
.ui-dialog-buttonset .ui-button{
	position:static !important;
} 
.boton_cierra_ventana_flotante{
 	font-size: 0.5em;
    right: 0;
    top: -5px;
}
</style>

<title style="box-sizing: unset;">mobileQuest</title>

<!-- PARA EL FAVICON  -->
<link rel="icon" type="image/png" sizes="16x16" href="http://mobilequest.com.ar/images/favicon.png?v=1.2" style="box-sizing: unset;">
<meta name="theme-color" content="#ffffff" style="box-sizing: unset;">
<!-- FIN DEL FAVICON  -->
	<script src="./mobileQuest_files/jquery-2.0.3.js" type="text/javascript" style="box-sizing: unset;"></script>
    <script src="./mobileQuest_files/select2.min.js" style="box-sizing: unset;"></script>
    <!--<script src="scripts/jquery-migrate.js" type="text/javascript"></script>-->
	<!--<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>-->
    <script type="text/javascript" src="./mobileQuest_files/js" style="box-sizing: unset;"></script><!--El sensor lo saco porque google dice que no es necesario ya-->
    <!--<script type="text/javascript" src="Scripts/markerclusterer_compiled.js"></script>-->
    <script type="text/javascript" src="./mobileQuest_files/markerwithlabel_1.2.1.js" style="box-sizing: unset;"></script>
    <!-- http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerwithlabel/src/markerwithlabel.js  -->  
    <link type="text/css" href="./mobileQuest_files/jquery-ui-1.10.3.custom.css" rel="stylesheet" style="box-sizing: unset;">
    <script type="text/javascript" src="./mobileQuest_files/jquery-ui-1.10.3.custom.min.js" style="box-sizing: unset;"></script>
    <script src="./mobileQuest_files/jquery-ui-timepicker-addon.js" type="text/javascript" style="box-sizing: unset;"></script>
    <script type="text/javascript" src="./mobileQuest_files/jquery.ui.datepicker-es.js" style="box-sizing: unset;"></script>
    <!--LAS 6 SIGUIENTES LINEAS SON PARA LOS SELECT-->
    <script src="./mobileQuest_files/jquery.ui.core.js" style="box-sizing: unset;"></script>
	<script src="./mobileQuest_files/jquery.ui.widget.js" style="box-sizing: unset;"></script>
    <script src="./mobileQuest_files/jquery.ui.position.js" style="box-sizing: unset;"></script>
    <script src="./mobileQuest_files/jquery.ui.menu.js" style="box-sizing: unset;"></script>
	<script src="./mobileQuest_files/jquery.ui.selectmenu.js" style="box-sizing: unset;"></script>
	<link type="text/css" rel="stylesheet" href="./mobileQuest_files/jquery.ui.selectmenu.css" style="box-sizing: unset;">
	<script src="./mobileQuest_files/ui.multiselect.1-14.js" type="text/javascript" style="box-sizing: unset;"></script>
    <script src="./mobileQuest_files/ui.multiselect.filter.1-5.js" type="text/javascript" style="box-sizing: unset;"></script>
    <link rel="Stylesheet" href="./mobileQuest_files/multiselect.css" type="text/css" style="box-sizing: unset;">
    <link rel="Stylesheet" href="./mobileQuest_files/multiselect.filter.css" type="text/css" style="box-sizing: unset;">
    <script type="text/javascript" src="./mobileQuest_files/jquery.countdown.js" style="box-sizing: unset;"></script>
    <script type="text/javascript" style="box-sizing: unset;">

var id_cliente = "155";
var map;
var geocoder;
var extremosdepuntos = new google.maps.LatLngBounds( );
var infowindow = new google.maps.InfoWindow();
geocoder = new google.maps.Geocoder();
//nuevo mètodo para que muestre el sentido del recorrido. Creo la variable "flecha_de_recorrido" y luego la agrego como una propiedad de la polilinea.
var flecha_de_recorrido = {
  path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
  strokeColor: "#F3510C",//"#E67817",
  strokeWeight: 4,
  scale: 2.5
};
var movil = {
  path: google.maps.SymbolPath.CIRCLE,
  scale: 8,
  strokeColor: 'red'
}; 
var polilinea_recorrido = new google.maps.Polyline({
  strokeColor: "#000",
  strokeOpacity: 1,
  strokeWeight: 3.5,
  zIndex:9,
  clickable: false,
  icons: [{
  icon: flecha_de_recorrido,
  offset: '50%',
  repeat: '100px'}]
});
var markers_flota = [];
var markers_flota_escudo = [];
var markers_flota_contorno = [];
var markers_recorrido = [];
var markers_recorrido_alertas = [];
var vector_cuenta_km = new Array();
var puntos_para_recorrido = [];
var flechitas_coordenadas ;
var flecha =[];
var vector_sin_bat=[];
var vector_sin_reporte=[];
var vector_con_reporte=[];
var vector_movimiento=[];
var vector_reposo=[];
var vector_encendidos=[];
var vector_apagados=[];
var vector_sin_gps = [];
var vector_estado_panico=[];
var vector_baja_bat=[];
var vector_total_detenidos=[];
var vector_cod_html = [];
var vector_datos_vehiculo = [];
var vector_numero_chip= [];
var data_recorrido;
var data_flota;
var matriz_alertas = new Array();
var primera_vez=0;
var vector_direcciones = new Array();
var vector_imeis = new Array();
var zindex=1;
var intensidad_gps=0;
var contador_paradas=0;
var total_detenido=0;
var kilometraje=0;
var velocidad_maxima=0;
var velocidad_promedio=0;
var fecha_desde_temp = 0;
var fecha_hasta_temp = 0;
var id_alertas_activas=[];
var grupo_anterior=-1;
var cod_html_alertas= [];
var cod_html_alertas_backup= [];
var respuesta_global = [];
var cantidad_vehiculos_anterior=0;
var mostrar_zonas=1;
var color_temp=[];
var latlong_destino; //para calcular distancia
var marker_distancia = new google.maps.Marker({
	position: null,
	map: map
});
var filtro_visual="nada";

	setTimeout("location.reload(true);",43200000); //para que haga un refresh (como apretar F5) cada 2 horas (1000=1 segundo)

function acomodoCSSpostGrupos(){
	$("*").css("box-sizing","unset");
	$("#info_cliente").css("padding-top","10px");
	$("#info_vehiculo_seleccionado").css("padding-top","10%");
	$("#flecha_referencia_o").css("vertical-align","unset");
}

function agrega_opcion_seleccione(){
	if($("#dominios").val() != "NADA"){
		$("#dominios").prepend('<option value="NADA" selected="selected">Unidad</option>');
		$("#dominios").val('NADA'); //linea agregada para que funcione en navegador ie
		$("#dominios").selectmenu('up');
	}
}

function agrega_opcion_seleccione_grupos(){
	if($("#grupo").val() != 0){
		$("#grupo").prepend('<option selected="selected" value="0">Grupo</option>');
		$("#grupo").selectmenu('up');
	}
}

function ocultar_o_mostrar_marcador(vector,marcador,oculta_o_muestra){//oculta_o_muestra debe ser null si se quiere usar esta func para ocultar, caso contrario se debe usar la variable map
	//infowindow.close();
	//var extremos_temporales = new google.maps.LatLngBounds();
	if(vector=="todos"){
		for(j in marcador){
			marcador[j].setMap(oculta_o_muestra);			
			if(marcador==markers_flota && markers_flota_escudo[j]){// Los siguientes marcadores juegan solo cuando laburamos con los markers_flota, y si son de panico no tienen escudo
				markers_flota_escudo[j].setMap(oculta_o_muestra);
				if(markers_flota_contorno[j]){//solo ejecuta si existen los marcadores con contorno
				markers_flota_contorno[j].setMap(oculta_o_muestra);
				}
			}
		}	
		if(marcador!=markers_flota){//El parametro "marcador" hasta ahora lo uso con 2 chances: markers_flota o markers_recorrido. 
			for(j in markers_recorrido_alertas){
				markers_recorrido_alertas[j].setMap(oculta_o_muestra);
			}
		}
	}else{
		if (!isNaN(vector)) {//Esto es para que esta función acepte como parametro un valor entero. Antes solo aceptaba vectores. 
								//La función isNaN es para saber si la variable "vector" es un entero (NO es un vector)
				var tempo=vector;
				vector=[];
				vector[0]=tempo;
		}
		//oculto marcadores
		if (marcador) {//Fijarse si esta linea despues tiene sentido dejarla!!--------------------------------------------------------
				for(j in vector){
					if(marcador[vector[j]]){
						marcador[vector[j]].setMap(oculta_o_muestra);
					}
					if(marcador==markers_flota && markers_flota_escudo[j]){// Los siguientes marcadores juegan solo cuando laburamos con los markers_flota normales (no los de panico)
							markers_flota_escudo[vector[j]].setMap(oculta_o_muestra);
							markers_flota_contorno[vector[j]].setMap(oculta_o_muestra);
					}
				}
		}
	}
}

function oculta_recorrido_y_flechas(){ 
	//oculto recorrido
	  polilinea_recorrido.setMap(null);		
	 //oculto flechas			  
	for(r in flecha){
		flecha[r].setMap(null);	
	}	
 	if(marker_distancia.getPosition()){
		marker_distancia.setMap(null);	
		google.maps.event.clearListeners(map,'rightclick');
	}				  
}

function establecer_zoom(){//chequeo todos los elementos relevantes, como ser markers_flota, markers_recorrido y la polilinea, que esten mostrandose en el mapa
	map.setOptions({
		maxZoom: 21,
		minZoom: 2
	});
	extremosdepuntos = new google.maps.LatLngBounds();
	for(i in markers_flota){
		if(markers_flota[i].getMap()){
			extremosdepuntos.extend(markers_flota[i].getPosition());		
		}
	}
	for(i in markers_recorrido){
		if(markers_recorrido[i].getMap()){
			extremosdepuntos.extend(markers_recorrido[i].getPosition());
		}
	}
/*	if(marker_distancia.getPosition()){//zoom contemplando marcador distancia
		extremosdepuntos.extend(marker_distancia.getPosition());
	}*/
	map.fitBounds(extremosdepuntos);
	if(map.getZoom()>16){
		map.setZoom(16);
	}
	if(map.getCenter()){
		map.panTo(map.getCenter(), {animate: false});	
	}
}

function establecer_zoom_zonas(){//chequeo todos los elementos relevantes, como ser markers_flota, markers_recorrido y la polilinea, que esten mostrandose en el mapa
	extremosdepuntos = new google.maps.LatLngBounds();
	for(i in vector_poligono_seguimiento){
		if(vector_poligono_seguimiento[i].getMap()){
			for(j in coordenadas_bd_seguimiento[i]){
				extremosdepuntos.extend(coordenadas_bd_seguimiento[i][j]);
			}
		}
	}
	map.fitBounds(extremosdepuntos);
	if(map.getZoom()>16){
		map.setZoom(16);
	}
}

function codeLatLng(latlng,mark,texto_html,a,origen) {
	if(!vector_direcciones[a] ){
		geocoder.geocode({'latLng': latlng}, function(results, status) {
			if (status == google.maps.GeocoderStatus.OK) {
			  if (results[1]) { 
				//alert( results[1].formatted_address);
				//alert( results[0].formatted_address);
				vector_direcciones[a]="Dirección: "+results[0].formatted_address+"<br>";
				switch(origen){
					case "flota":
							vector_cod_html[a]=vector_direcciones[a]+vector_cod_html[a];
							infowindow.setContent(vector_cod_html[a]+"<button class='seleccion_vehiculo' style='font-size:0.6em;' onclick = \"  ocultar_o_mostrar_marcador('todos',markers_flota,null); ocultar_o_mostrar_marcador("+a+",markers_flota,map); $('#dominios').val("+a+"); infowindow.close(); $('#dominios').selectmenu('refresh'); $('#dominios').selectmenu('chan');\" >Seleccionar este vehículo</button><br><br>");
							break;
					case "recorrido":
							infowindow.setOptions({pixelOffset: new google.maps.Size(0, 0)});
							infowindow.setContent(vector_direcciones[a]+texto_html);
							break;
					case "alertas":
							infowindow.setOptions({pixelOffset: new google.maps.Size(16, 2)});
							infowindow.setContent(vector_direcciones[a]+cod_html_alertas[a]);
							break;
				}
				infowindow.open(map,mark);
				if($("#dominios").val()=="NADA"){
					$(".seleccion_vehiculo").show();
				}else{
					$(".seleccion_vehiculo").hide();
				}				  
			  } else {
				$("#dialogo").html("No results found");
				$("#dialogo").dialog({ title: 'Google' },'open');
			  }
			} else {
			  $("#dialogo").html("Geocoder failed due to: " + status);
			  $("#dialogo").dialog({ title: 'Google' },'open');
			}	  
		});		
	}else{
		switch(origen){
			case "flota":
					infowindow.setContent(texto_html+"<button id='uno' class='seleccion_vehiculo' style='font-size:0.6em;' onclick = \"  ocultar_o_mostrar_marcador('todos',markers_flota,null); ocultar_o_mostrar_marcador("+a+",markers_flota,map); $('#dominios').val("+a+"); infowindow.close(); $('#dominios').selectmenu('refresh');$('#dominios').selectmenu('chan');\" >Seleccionar este vehículo</button><br><br>");
					break;
			case "recorrido":
					infowindow.setOptions({pixelOffset: new google.maps.Size(0, 0)});
					infowindow.setContent(vector_direcciones[a]+texto_html);
					$('#fondo').click();
					break;
			case "alertas":
					infowindow.setOptions({pixelOffset: new google.maps.Size(16, 2)});
					infowindow.setContent(vector_direcciones[a]+cod_html_alertas[a]);
					$('#fondo').click();
					break;
		}
		infowindow.open(map,mark);
		if($("#dominios").val()=="NADA"){
			$(".seleccion_vehiculo").show();
		}else{
			$(".seleccion_vehiculo").hide();
		}
	}		  
}

function agrego_poligono(vertices){
	flecha.push(  new google.maps.Polygon({
		path:vertices,
		strokeColor: "#09F",
		strokeOpacity: 1,
		fillOpacity:1,
		fillColor: "#09F",//Esta linea no la entiende el firefox, por eso muestra el triangulo del sentido negro
		strokeWeight: 2,
		zIndex:11,
		clickable: false
	}));
}
<!--AGREGADO PARA MOSTRAR Y OCULTAR ZONAS EN PANTALLA INICIAL-->
function agrego_poligono_zonas_seguimiento(id_poligono_seguimiento,path_coordenadas_seguimiento,color_seguimiento,nombre_zona){
	vector_poligono_seguimiento[id_poligono_seguimiento]=new google.maps.Polygon({
		paths: path_coordenadas_seguimiento,
		map:map,
		strokeColor: color_seguimiento,//contorno
		strokeOpacity: 1,
		strokeWeight: 2,
		fillColor: color_seguimiento,//relleno
		fillOpacity: 0.5,
		zIndex:1,
		label: nombre_zona
	});
	var info_band=new Array (100);
	info_band[id_poligono_seguimiento]=1;
	//alert("AQUI");
	  var infoWindowOptions = {pixelOffset: new google.maps.Size(0, -30)};
	var zonas_infoWindow = new google.maps.InfoWindow(infoWindowOptions);
	var bandera_movimiento;
	
	color_temp[id_poligono_seguimiento]=vector_poligono_seguimiento[id_poligono_seguimiento].get('fillColor');
	
/*	google.maps.event.addListener(vector_poligono_seguimiento[id_poligono_seguimiento], 'mouseover', function (e) {
		zonas_infoWindow.setContent(nombre_zona);
		zonas_infoWindow.setZIndex(9000);
		var latLng = e.latLng;
		if(info_band[id_poligono_seguimiento]==1){
			zonas_infoWindow.setPosition(latLng);		
			info_band[id_poligono_seguimiento]=0;
			//alert(info_band);
			setTimeout(function() {
  //your code to be executed after 1 second
}, 1000);
			zonas_infoWindow.open(map);	
		}
		
		//setTimeout ("zonas_infoWindow.close(map);", 1000); 
	});
*/	
	google.maps.event.addListener(vector_poligono_seguimiento[id_poligono_seguimiento], 'mousemove', function (e) {
		zonas_infoWindow.setContent(nombre_zona);
		vector_poligono_seguimiento[id_poligono_seguimiento].setOptions({fillColor: '#33ff33'});
		var latLng = e.latLng;				
		zonas_infoWindow.setPosition(latLng);
/*			setTimeout(function() {								
  				zonas_infoWindow.open(map);
				setTimeout(function() {				
  				zonas_infoWindow.close(map);
			}, 2000);
			}, 500);*/
/*		if(map.getZoom()>=12){
			zonas_infoWindow.open(map);
			//Capturo el color original del poligono			
			//Lo cambio a otro color
			vector_poligono_seguimiento[id_poligono_seguimiento].setOptions({fillColor: '#33ff33'});
		}*/
		if(map.getZoom()>=12){
			zonas_infoWindow.setOptions({pixelOffset: new google.maps.Size(0, -12)});
		}else{
			zonas_infoWindow.setOptions({pixelOffset: new google.maps.Size(0, -12)});
		}
		zonas_infoWindow.open(map);
		
				
		
	});
/*	google.maps.event.addListener(vector_poligono_seguimiento[id_poligono_seguimiento], 'click', function (e) {	
		color_temp=vector_poligono_seguimiento[id_poligono_seguimiento].get('fillColor');
		vector_poligono_seguimiento[id_poligono_seguimiento].setOptions({fillColor: '#33ff33'});
	});	*/
	google.maps.event.addListener(vector_poligono_seguimiento[id_poligono_seguimiento], 'mouseout', function (e) {
		zonas_infoWindow.close(map);
		//alert("Cree que salio del polygono");
		vector_poligono_seguimiento[id_poligono_seguimiento].setOptions({fillColor: color_temp[id_poligono_seguimiento]});
		//info_band[id_poligono_seguimiento]=1;
	});
	/*vector_poligono_seguimiento[id_poligono_seguimiento].addListener('mouseover', function(e) {
		window.alert(nombre_zona);//alert(nombre_zona);
	});*/
}
function borrar_mapa_seguimiento(){
		for(i in vector_poligono_seguimiento){
			vector_poligono_seguimiento[i].setMap(null);
		}
}
 <!--FIN AGREGADO PARA MOSTRAR Y OCULTAR ZONAS EN PANTALLA INICIAL-->
function agrego_marcador_flota(punto,titulo,i,sensores,estado_motor,velocidad,direccion,tiempo_parada,tiempo_sin_sat,tiempo_sin_reporte,buffer,hora_avl_tmp,id_marcador){
	var icono="";
	var icono_escudo="";
	var icono_contorno="transparente";//inicializo en transparente, que se cambie luego si es necesario
	var x=(titulo.length*7)/2;
	var y=4;
	var shape = {
	  coord: [21,3,23,4,24,5,25,6,26,7,26,8,27,9,27,10,41,11,42,12,43,13,43,14,43,15,43,16,43,17,43,18,43,19,43,20,43,21,43,22,43,23,43,24,43,25,43,26,43,27,43,28,43,29,43,30,43,31,43,32,43,33,43,34,43,35,43,36,43,37,43,38,43,39,43,40,43,41,43,42,43,43,43,44,43,45,43,46,43,47,43,48,43,49,43,50,43,51,42,52,33,53,33,54,33,55,33,56,33,57,33,58,37,59,36,60,35,61,34,62,33,63,32,64,31,65,30,66,29,66,28,65,27,64,26,63,25,62,24,61,23,60,22,59,26,58,26,57,26,56,26,55,26,54,26,53,17,52,16,51,16,50,16,49,16,48,16,47,16,46,16,45,16,44,16,43,16,42,16,41,16,40,16,39,16,38,16,37,16,36,16,35,16,34,16,33,16,32,16,31,16,30,16,29,16,28,16,27,16,26,16,25,15,24,14,23,13,22,12,21,11,20,11,19,10,18,9,17,8,16,8,15,8,14,8,13,8,12,8,11,8,10,8,9,9,8,10,7,11,6,12,5,13,4,15,3,21,3],
	  type: 'poly'
	};
	var label=0;
	if((buffer>12)){
		label=1;
		info_label="";
		icono="buffer";
		icono_escudo="transparente";//No llev escudo
		var explica_buffer = "<span id='contenedor_explica_buffer' style='background-color: #FFC'>El rastreador se encuentra descargando datos de memoria.<br> Mientras el dispositivo realiza la descarga, puede generar un recorrido hasta el "+hora_avl_tmp+". Una vez finalizado este proceso, podrá generar el recorrido con normalidad.<br></span>";
		}else{
		if(estado_motor==1){
			if(tiempo_parada>=$("#tiempo_min").val()){
				icono="encendido_parada";
				icono_escudo="transparente";//Va a ser transparente ya que ese escudo viene de fábrica incrustado en icono "encendido_parada"
			}else{
				if(velocidad>0){
					icono="encendido_movimiento";
					icono_escudo="flechita";//segun la direccion, va a ser este nombre del png
				}else{
					icono="encendido_movimiento";//Se llama así aunque es el caso de "SOLO ENCENDIDO". Decidimos que va a ser el mismo icono de cuando se esta moviendo, pero con velocidad cero y sin direccion
					icono_escudo="esfera";//se pone una esfera para rellenar el espacio
				}
			}
		}else{
			if(tiempo_parada>=$("#tiempo_min").val()){
				icono="apagado_parada";
				icono_escudo="transparente";//Va a ser transparente ya que ese escudo viene de fábrica incrustado en icono "encendido_parada"
			}else{
				if(velocidad>5){
					icono="apagado_movimiento";
					icono_escudo="flechita";//segun la direccion, va a ser este nombre del png
				}else{
					icono="apagado_movimiento";//Se llama así aunque es el caso de "SOLO APAGADO". Decidimos que va a ser el mismo icono de cuando se esta moviendo, pero con velocidad cero y sin direccion";
					icono_escudo="esfera";//se pone una esfera para rellenar el espacio
				}
			}		
		}
	}
	if(icono_escudo=="flechita"){
		if((direccion>=0 && direccion<22.5)||(direccion<360 && direccion>=337.5)){
			icono_escudo="flecha_norte";
		}
		if(direccion>=22.5 && direccion<67.5){
			icono_escudo="flecha_noreste";
		}		
		if(direccion>=67.5 && direccion<112.5){
			icono_escudo="flecha_este";
		}
		if(direccion>=112.5 && direccion<157.5){
			icono_escudo="flecha_sureste";
		}						
		if(direccion>=157.5 && direccion<202.5){
			icono_escudo="flecha_sur";
		}		
		if(direccion>=202.5 && direccion<247.5){
			icono_escudo="flecha_suroeste";
		}				
		if(direccion>=247.5 && direccion<292.5){
			icono_escudo="flecha_oeste";
		}		
		if(direccion>=292.5 && direccion<337.5){
			icono_escudo="flecha_noroeste";
		}															
	}
	if(tiempo_sin_reporte>20 || tiempo_sin_sat>5){//Para saber si va un icono de contorno
		if(tiempo_sin_reporte>20){
			icono_contorno="contorno_rojo";
			if(label==1){
				explica_buffer="<span id='contenedor_explica_buffer' style='background-color: #FFC'>El rastreador se encontraba descargando datos de memoria cuando dejó de reportarse.<br> Hasta que el dispositivo recupere la señal, podrá generar un recorrido completo hasta el "+hora_avl_tmp+".<br></span>";
			}
			if(tiempo_sin_sat>5){
				icono_contorno="contorno_rojo_amarillo";
			}
		}else{
			icono_contorno="contorno_amarillo";
		}	
		y=0;
	}
	if(label==0){
		if(icono_escudo=="transparente"){
			if(tiempo_parada>60){
				info_label="+60";
			}else{
				info_label=tiempo_parada;
			}
		}else{	
			info_label=Math.round(parseFloat(velocidad));
		}
	}else{
		vector_cod_html[id_marcador]= explica_buffer + vector_cod_html[id_marcador];
	}
	markers_flota[i]=new MarkerWithLabel({
		icon: 'images/'+icono+'.png', //'images/apagado_movimiento.png',
		size: new google.maps.Size(54,70),
		position: punto,
		map: map,
		draggable: false,
		//shadow:new google.maps.MarkerImage('images/sombra.png', new google.maps.Size(540,700), null, new google.maps.Point(0, 56)),
		shadow:new google.maps.MarkerImage('images/sombra.png', null, null, new google.maps.Point(0, 56)),
		title:icono+", "+titulo,
		zIndex:zindex,
		shape: shape,
		//animation: google.maps.Animation.DROP,
		labelContent: titulo,
		labelAnchor: new google.maps.Point(x, y),
		labelClass: "labels", // the CSS class for the label
		labelStyle: {opacity: 0.75}
  	});
	zindex=zindex+1;		
	markers_flota_escudo[i]=new MarkerWithLabel({
		icon:new google.maps.MarkerImage('images/'+icono_escudo+'.png', null, null, new google.maps.Point(5, 35)),//'images/flecha_norte.png', //'images/'+icono_escudo+'.png',		
		position: punto,
		map: map,
		draggable: false,
		title:icono+", "+titulo,
		zIndex:zindex,
		//animation: google.maps.Animation.DROP,
		labelContent: ""+info_label,
		labelAnchor: new google.maps.Point(29, 65),
		labelClass: "labels2", // the CSS class for the label
  	});
	if(icono_contorno!="transparente"){
		zindex=zindex+1;	
		  markers_flota_contorno[i] = (new google.maps.Marker({
			  icon:'images/'+icono_contorno+'.png',
			  position: punto,
			  clickable: false,
			  map: map,
			  draggable: false,
			  zIndex:zindex,
			  title:icono+", "+titulo,
			  //animation: google.maps.Animation.DROP,
		  }));
	}else{
		zindex=zindex+1;	
		  markers_flota_contorno[i] = (new google.maps.Marker({
			  icon:'images/'+icono_contorno+'.png',
			  position: punto,
			  clickable: false,
			  map: map,
			  draggable: false,
		  }));	
	}
	zindex=zindex+1;
	
	google.maps.event.addListener(markers_flota[id_marcador], 'click', function() {
		codeLatLng(punto,markers_flota[id_marcador],vector_cod_html[id_marcador],id_marcador,"flota");});	

	google.maps.event.addListener(markers_flota_escudo[id_marcador], 'click', function() {
		codeLatLng(punto,markers_flota[id_marcador],vector_cod_html[id_marcador],id_marcador,"flota");
	});
	google.maps.event.addListener(infowindow, 'domready', function() {
		  $('button').button();		  
	});	
}
<!--AGREGADO PARA MOSTRAR Y OCULTAR ZONAS EN PANTALLA INICIAL-->
function carga_zonas_seguimiento(){
	punto_seguimiento=[];
	coordenadas_bd_seguimiento=[];
	vector_poligono_seguimiento=[];
	  $.post("acciones_mq3.php",{accion:"busca_zonas",id_cliente:id_cliente},function(data){
		  var  j=0;
		  if(data.nombre_zona[0]!=null){
			  $('.ui-multiselect').css('padding', '0');
			  $('.ui-multiselect').css('display', 'inline-block');
			  for(j==0;j<data.poligono.length;j++){
				  vertices_seguimiento=(data.poligono[j].substring(data.poligono[j].lastIndexOf("(")+1,data.poligono[j].indexOf(")"))).split(", ");
				  var punto_seguimiento=[];
				  coordenadas_bd_seguimiento[data.id_zonas[j]]=[];
				  for( i in vertices_seguimiento){
					  punto_seguimiento[i]=vertices_seguimiento[i].split(" ");	
					  coordenadas_bd_seguimiento[data.id_zonas[j]].push(new google.maps.LatLng(punto_seguimiento[i][1],punto_seguimiento[i][0]));
				  }
				  $("#zonas_cliente_seg").append('<option value="'+data.id_zonas[j]+'">'+data.nombre_zona[j]+'</option>');	
				  agrego_poligono_zonas_seguimiento(data.id_zonas[j],coordenadas_bd_seguimiento[data.id_zonas[j]],data.color[j],data.nombre_zona[j]);			  
			  }
		  $("#zonas_cliente_seg").multiselect("refresh");
		  $("#zonas_cliente_seg").multiselect("checkAll")
		  $('.ui-multiselect').css('width', '100px');	
		   
		  }else{
		  	$('.ui-multiselect').css('display', 'none');
		  }
	  },"json");	
}
 <!--FIN AGREGADO PARA MOSTRAR Y OCULTAR ZONAS EN PANTALLA INICIAL-->
function agrego_marcador_recorrido(punto, titulo, i, texto_infowindows, icono, num_eventos ){
	zindex=zindex+1;
	if(icono=="alertas"){
		var shape_alertas = {
		  coord: [40,1,43,2,44,3,45,4,46,5,47,6,48,7,49,8,49,9,50,10,50,11,50,12,51,13,51,14,51,15,52,16,52,17,52,18,52,19,52,20,52,21,52,22,51,23,51,24,50,25,50,26,49,27,49,28,48,29,47,30,46,31,44,32,43,33,40,34,29,35,29,36,28,37,28,38,27,39,27,40,26,41,26,42,26,43,16,44,15,45,15,46,15,47,14,48,14,49,5,50,5,51,4,52,0,52,0,51,1,50,1,49,2,48,2,47,2,46,3,45,3,44,4,43,4,42,4,41,4,40,5,39,5,38,5,37,6,36,13,35,13,34,14,33,14,32,14,31,15,30,15,29,25,28,24,27,23,26,23,25,22,24,21,23,21,22,21,21,20,20,20,19,20,18,20,17,20,16,20,15,20,14,20,13,21,12,21,11,21,10,22,9,22,8,23,7,24,6,25,5,25,4,27,3,28,2,31,1,40,1],
		  type: 'poly'
		};
		markers_recorrido_alertas[i]=new MarkerWithLabel({
			icon:new google.maps.MarkerImage('images/'+icono+'.png', null, null, new google.maps.Point(2, 52)),
			position: punto,
			map: map,
			draggable: false,
			title:titulo,
			shadow:new google.maps.MarkerImage('images/alertas_sombra.png', null, null, new google.maps.Point(-20, 49)),
			zIndex:zindex,
			shape: shape_alertas,
			//animation: google.maps.Animation.DROP,
			labelContent: num_eventos,
			labelAnchor: new google.maps.Point(-13, 47),
			labelClass: "labels_icono_alertas", // the CSS class for the label
		});
		new google.maps.MarkerImage('images/alertas_sombra.png', null, null, new google.maps.Point(-20, 49))
		google.maps.event.addListener(markers_recorrido_alertas[i], 'click', function() {
			codeLatLng(punto,markers_recorrido_alertas[i],texto_infowindows,i,"alertas");
		});	
	}else{
		if(icono=="puntito" || icono=="puntitogiro" || icono=="inicio" || icono=="fin"){
			if(icono!="puntito" && icono!="puntitogiro"){
				var shape = {
					coord: [27,0,28,1,30,2,31,3,32,4,34,5,35,6,37,7,38,8,39,9,41,10,42,11,43,12,45,13,45,14,45,15,45,16,44,17,44,18,43,19,43,20,43,21,42,22,42,23,42,24,41,25,41,26,41,27,40,28,40,29,40,30,39,31,39,32,39,33,39,34,38,35,38,36,30,37,30,38,30,39,30,40,34,41,34,42,34,43,33,44,32,45,31,46,30,47,29,48,28,49,27,50,27,51,25,51,24,50,23,49,22,48,21,47,20,46,20,45,19,44,18,43,17,42,17,41,21,40,21,39,21,38,21,37,14,36,13,35,13,34,13,33,12,32,12,31,12,30,11,29,11,28,11,27,10,26,10,25,10,24,9,23,9,22,9,21,8,20,8,19,8,18,7,17,7,16,7,15,7,14,7,13,8,12,10,11,11,10,12,9,14,8,15,7,16,6,18,5,19,4,21,3,22,2,23,1,25,0,27,0],
					type: 'poly'
				};	
			}
			markers_recorrido[i]=new google.maps.Marker({
				icon:'images/'+icono+'.png',
				position: punto,
				map: map,
				zIndex:zindex+2,
				draggable: false,
				title:titulo,
				//shadow:new google.maps.MarkerImage('images/sombra.png', null, null, new google.maps.Point(0, 56)),
				//animation: google.maps.Animation.DROP,
			});
		}else{
			if(icono=="parada"){
				var shape = {
				  coord: [19,0,21,1,23,2,24,3,25,4,26,5,26,6,27,7,28,8,28,9,29,10,29,11,29,12,29,13,29,14,29,15,29,16,29,17,29,18,29,19,28,20,28,21,27,22,26,23,26,24,25,25,24,26,23,27,21,28,19,29,10,29,7,28,6,27,5,26,4,25,3,24,2,23,2,22,1,21,1,20,0,19,0,18,0,17,0,16,0,15,0,14,0,13,0,12,0,11,0,10,1,9,1,8,2,7,2,6,3,5,4,4,5,3,6,2,7,1,9,0,19,0],
				  type: 'poly'
				};
				if(contador_paradas < 10){
					var estilo_estiqueta="labels_numero_parada";
					var posicion = new google.maps.Point(5, 48);
				}else{
					var estilo_estiqueta="labels_numero_parada_2d";
					var posicion = new google.maps.Point(10, 48);
				}
			}else{//si pasa por aquí es porque es inicio o fin + parada
				var shape = {
					coord: [31,0,33,1,35,2,36,3,37,4,38,5,39,6,39,7,40,8,40,9,41,10,41,11,41,12,41,13,41,14,42,15,43,16,44,17,46,18,46,19,46,20,46,21,46,22,46,23,45,24,45,25,45,26,44,27,44,28,44,29,43,30,43,31,43,32,43,33,42,34,42,35,42,36,41,37,41,38,40,39,40,40,40,41,40,42,39,43,32,44,32,45,32,46,32,47,36,48,36,49,35,50,34,51,33,52,32,53,31,54,30,55,30,56,29,57,28,58,26,58,25,57,24,56,23,55,22,54,22,53,21,52,20,51,19,50,18,49,18,48,22,47,22,46,22,45,22,44,15,43,14,42,14,41,13,40,13,39,13,38,13,37,12,36,12,35,12,34,11,33,11,32,11,31,10,30,10,29,10,28,9,27,9,26,9,25,8,24,8,23,7,22,7,21,7,20,7,19,8,18,9,17,11,16,12,15,13,14,13,13,13,12,13,11,13,10,13,9,14,8,14,7,15,6,16,5,17,4,18,3,19,2,21,1,23,0,31,0],
					type: 'poly'
				};
				if(contador_paradas < 10){
					var estilo_estiqueta="labels_numero_parada";
					var posicion = new google.maps.Point(5, 76);
				}else{
					var estilo_estiqueta="labels_numero_parada_2d";
					var posicion = new google.maps.Point(10, 76);
				}
			}

			markers_recorrido[i]=new MarkerWithLabel({
				icon:new google.maps.MarkerImage('images/'+icono+'.png'),
				position: punto,
				map: map,
				zIndex:zindex+2,
				draggable: false,
				title:titulo,
				shape: shape,
				//animation: google.maps.Animation.DROP,
				labelAnchor: posicion,
				labelContent: ""+(contador_paradas),
				labelClass: estilo_estiqueta, // the CSS class for the label
			});
		}
		if(icono!="puntito" && icono!="puntitogiro"){
			if(icono=="inicio_parada" || icono=="fin_parada"){
				markers_recorrido[i].setShadow(new google.maps.MarkerImage('images/inicio_fin_parada_sombra.png', null, null, new google.maps.Point(0, 48)));
			}
			if(icono=="inicio" || icono=="fin"){
				markers_recorrido[i].setShadow(new google.maps.MarkerImage('images/inicio_fin_sombra.png', null, null, new google.maps.Point(2, 40)));
			}
			if(icono=="parada"){
				markers_recorrido[i].setShadow(new google.maps.MarkerImage('images/parada_sombra.png', null, null, new google.maps.Point(0, 22)));
			}
		}else{
			if(icono!="puntitogiro"){
				markers_recorrido[i].setIcon(new google.maps.MarkerImage('images/puntito.png', null, null, new google.maps.Point(3, 3)));	
			}else{
				markers_recorrido[i].setIcon(new google.maps.MarkerImage('images/puntitogiro.png', null, null, new google.maps.Point(3, 3)));	
			}
		}
		google.maps.event.addListener(markers_recorrido[i], 'click', function() {
			codeLatLng(punto,markers_recorrido[i],texto_infowindows,i,"recorrido");
		});
	}
}

function tiempo_detenido(segundos){//FUNCION QUE DEVUELVE EL TIEMPO EXPRESADO EN PALABRAS, TOMANDO COMO PARAMETRO UN VALOR EN SEGUNDOS
	var minutos = parseInt(segundos/60);
	var horas = parseInt(minutos/60);
	var msj_minutos // Esta variable es para que el mensaje sea en plural o sigular
	if(minutos>59){		
		minutos = minutos -(horas * 60);
	}
	if(minutos==1){
		msj_minutos = " minuto.";
	}else{
		msj_minutos = " minutos.";
	}
	if(horas==0){
		return minutos + msj_minutos;
	}else{
		if(horas==1){
			return horas +" hora y " + minutos + msj_minutos;
		}else{
			return horas +" horas y " + minutos + msj_minutos;
		}
	}
}

function suma_minutos_horario(tiempo,hora){ //FUNCION PARA SUMAR UNA CANTIDAD DE MINUTOS A UN HORARIO -- hora ES LA HORA DE LA PARADA EXPRESADA EN MINUTOS	  
	/*CANTIDAD DE MINUTOS DEL TIEMPO DE PARADA*/var m = parseInt(tiempo/60);
	var hora = hora.split(":");
	var pm=0; // variable para saber si pongo 07 en caso de que sea a la mañana o 19 en caso de que sea a la tarde
	if(hora[0] > 12){
		hora[0]=hora[0]-12;
		pm=1;
	}
	h_p_m = parseInt(hora[0]*60)+parseInt(hora[1]);
	var suma = parseInt(m) + parseInt(h_p_m); //LA SUMA DE EL TIEMPO DE PARADA MAS EL HORARIO, EXPRESADO EN MINUTOS
	if(parseInt(suma)>=60){
		if(pm==1){
			var parte_hora = parseInt(suma/60)+12;
		}else{
			var parte_hora = parseInt(suma/60);
		}
		if(parte_hora>24){
			parte_hora = parte_hora-24;
		}else{
				if(parte_hora==24){
					parte_hora = "00";
				}
			 }
		var parte_minuto = suma%60;
		if(parseInt(parte_hora)<10 && parte_hora != "00"){
			parte_hora="0"+parte_hora+":";
		}
		else{			
			parte_hora=parte_hora+":";
		}
		if(parseInt(parte_minuto)<10){
			parte_minuto="0"+parte_minuto;
		}
		var suma_total = parte_hora + parte_minuto;
	}
	else{
		suma_total="00:"+suma;
	}
	return suma_total;	//alert("HORA="+hora+" H="+hora_inicio+" M="+minutos_inicio+ "\n" + "Le tengo que sumar "+tiempo+" segundos, que son "+m);
}	
function inicia_cuenta_regresiva(){	
	$('#regresiva').countdown('change',{until: '+60s',format:'S',layout:'<b> {sn} {sl}</b>',onExpiry: inicia_cuenta_regresiva});
	$('#boton_inicio').click();
}

$(document).ready(function(){
		$(document).click(function() {
			if($("#menu").css("display")!="none"){
			  $("#menu").toggle();
			}
		// Si el click es en el botón que despliega el menú
		$("#desplega_menu").click(function(e){
			//Paramos la propagación del click por lo tanto no llega al document, y no oculta el menu
			e.stopPropagation();
		});
		});
		//Calculo y redimensiono el alto y el ancho del mapa, el alto del panel iquierdo y el alto del contenedor de la referencia.
		window.onresize = function() {
			var alto = $(window).height()-102;
			alto=alto+"px";
			var ancho= $(window).width()-356;
			ancho=ancho+"px";
			$("#map_canvas").css("width",ancho);
			$("#map_canvas").css("height",alto);
			$("#panel_izq").css("height",alto);
			$("#contenedor_referencia").css("height",alto);
			if($("#contenedor_referencia").css("display")!="none"){$("#referencia").click();};	
		}
		var alto = $(window).height()-102;
		alto=alto+"px";
		var ancho= $(window).width()-356;
		ancho=ancho+"px";
		$("#map_canvas").css("width",ancho);
		$("#map_canvas").css("height",alto);
		$("#panel_izq").css("height",alto);
		$("#contenedor_referencia").css("height",alto);
		$("#zonas_cliente_seg").multiselect({
			noneSelectedText: 'Zonas',
			selectedList: 3,
			checkAllText: "tildar",
			uncheckAllText: "destildar"			
		}).multiselectfilter();
		map = new google.maps.Map(document.getElementById("map_canvas"), {mapTypeId: google.maps.MapTypeId.ROADMAP});
		google.maps.event.addListener(map, 'click', function() {
			infowindow.close();
		});
		if(id_cliente==125 || id_cliente==144 || id_cliente==145 || id_cliente==146 || id_cliente==147 || id_cliente==148){
    		ctaLayer = new google.maps.KmlLayer('http://mobilequest.com.ar/kmls/transnoa_lineas2.kml', {preserveViewport: true}); 
    		ctaLayer.setMap(map);	
		}		
		$('#regresiva').countdown({until: '+60s',format:'S',layout:'<b> {sn} {sl}</b>',onExpiry:  inicia_cuenta_regresiva});
		$('#pausa').click(function(){
			if($(this).text()=='Continuar'){
				$(this).html('<span class="ui-button-text">Pausa</span>'); 
				$('#regresiva').countdown('resume'); 
			}else{
				$(this).html('<span class="ui-button-text">Continuar</span>'); 
				$('#regresiva').countdown('pause'); 
			}
		}); 
		$("#menu").menu();
		$("#desplega_menu").button({
		  icons: {
			  primary: "ui-icon-triangle-1-s"
		  }
		});
		$("#desplega_menu").click(function(){
		  $("#menu").toggle().position({
			  my: "left top",
			  at: "left bottom",
			  of: this
		  });
		});
		$(function() {
			$('#panel_izq select')
				.selectmenu()
				.selectmenu( "menuWidget" );
		})
		$("#dialogo").dialog({resizable: false, modal: true});
		$("#dialogo").dialog('close');
		$('#fecha_desde').datetimepicker();
		$('#fecha_hasta').datetimepicker();
		$("#info_recorrido").hide('');
		$("#contenedor_flotante").hide();
		$("#flecha_oculta_panel").click(function(){
			$("#panel_izq").animate({"left":'-356px'}, 650);
			var ancho2= $(window).width();
			ancho2=ancho2+"px";
			$("#map_canvas").css("min-width","980px");			
			$("#map_canvas").css("width",ancho2);
			$("#map_canvas").css("left","0px");
			google.maps.event.trigger(map, 'resize');
			$("#flecha_muestra_panel").fadeIn(1000);
		});
		
		$("#flecha_muestra_panel").click(function(){
			$("#panel_izq").animate({"left":'0%'},650);
			var ancho2= $(window).width();
			ancho2=ancho2-356+"px";
			$("#map_canvas").animate({"left":"356px"},650, function(){
				$("#map_canvas").css("width",ancho2);
				$("#map_canvas").css("min-width","624px");
				google.maps.event.trigger(map, 'resize');
				establecer_zoom();
			});	
			$("#flecha_muestra_panel").hide('fast');
		});
		
		$("#boton_inicio").click(function(){
			if(marker_distancia.getPosition()){//BORRA MARCADOR DISTANCIA SI ESTÁ EN EL MAPA
				marker_distancia.setMap(null);
			}
			if($("#resumen_del_recorrido").html()!=''){
				data_recorrido = "";
				fecha_desde_temp = "";
				fecha_hasta_temp = "";
				$('#fecha_desde').datetimepicker('setDate', (new Date('','','',0,0,0)) ); //Las 4 lineas siguientes son para inicializar el calendario
				$('#fecha_desde').datetimepicker('setDate', (null) );
				$('#fecha_hasta').datetimepicker('setDate', (new Date('','','',0,0,0)) );
				$('#fecha_hasta').datetimepicker('setDate', (null) );					
				$("#resumen_del_recorrido").html('');
				$("#todos_grupo").css('display', 'none');
				$("#alertas_flota").hide('slow');
				$("#info_flota").hide('slow');
				$("#info_recorrido").hide('slow');
				$("#hora_update").hide('slow');
				$("#info_vehiculo_seleccionado").hide(function() {
					$('button').button();			
				});
				$("#info_vehiculo_seleccionado").show('slow', function() {
					$('button').button();			
				});
				$("#contenedor_explica_buffer").css("background", "rgba(0,0,0,0)");
				$("#muestra_estado_vehiculo").hide();
				$("#estado_actual_vehiculo").show('slow');
				$("#elementos_del_recorrido").show('slow');		
				ocultar_o_mostrar_marcador('todos',markers_recorrido,null);
				oculta_recorrido_y_flechas();								
			}
			$.post("acciones_mq3.php",{accion:"buscapuntos",id_cliente:id_cliente},function(data){
				if(($("#dominios").val()=="NADA") && ($("#grupo").val()==0)){
					$("#todos_flota").hide();
				}
				data_flota=data;		
				$("#hora_update").html("Actualización de pantalla: "+data_flota.hora_update);					
				ocultar_o_mostrar_marcador("todos",markers_flota,null);	
				var temp=cantidad_vehiculos_anterior;
				analiza_flota(data_flota);
				if(cantidad_vehiculos_anterior!=temp){
					location.reload();// hago refresh xq se cambió la cantidad de vehículos por un alta o baja. 
				}
				/*clusters_flota.clearMarkers();
				clusters_flota_contorno.clearMarkers();
				clusters_flota_escudo.clearMarkers();*/
				//ocultar_o_mostrar_marcador($("#dominios").val(),markers_flota,map);
				$("#estado_actual_vehiculo").html(vector_cod_html[$("#dominios").val()]);	
				$("#contenedor_explica_buffer").css("background", "rgba(0,0,0,0)");
				$('button').button();
				$("#"+filtro_visual+" :button").click();//PARA QUE RESPETE EL FILTRO QUE ESTÁ VIENDO EN PANTALLA (guía variable "filtro_visual").
				$("#"+filtro_visual+" :button").css("background", "#E67817");
				//$("#alertas_flota").show();
			},"json");
		});

	
		$("#muestra_estado_vehiculo").click(function() {
			$("#estado_actual_vehiculo").toggle(function(){
				if($("#estado_actual_vehiculo").css('display')!='none'){
					$("#muestra_estado_vehiculo").html('<span class="ui-button-text">- info</span>');
				}else{
					$("#muestra_estado_vehiculo").html('<span class="ui-button-text">+ info</span>');
				}
			});	
		});
		<!--AGREGADO PARA MOSTRAR Y OCULTAR ZONAS EN PANTALLA INICIAL-->
		$("#zonas_cliente_seg").change(function(){
			borrar_mapa_seguimiento();
			$("#zonas_cliente_seg option:selected").each(function(indice){
				vector_poligono_seguimiento[$(this).val()].setMap(map);		
			});
			$("#zonas_client_seg").multiselect("refresh");	
			if($("#zonas_cliente_seg option:selected").length!=0){
				establecer_zoom_zonas();	
			}
		});
		/*$("#ver_ocultar_zonas").click(function() {
			$("#estado_actual_vehiculo").toggle(function(){
				if($("#ver_ocultar_zonas").text()=='ocultar'){
					mostrar_zonas=1;
					$("#ver_ocultar_zonas").html('<span class="ui-button-text" style="background:#555555 url(css/ui/images/ui-bg_glass_20_555555_1x400.png) 50% 50% repeat-x;">ver</span>');
					borrar_mapa_seguimiento();
				}else{
					$("#ver_ocultar_zonas").html('<span class="ui-button-text" style="background: #555555 url(css/ui/images/ui-bg_inset-hard_30_f57e00_1x100.png) 50% 50% repeat;">ocultar</span>');
					mostrar_zonas=0;
					carga_zonas_seguimiento();
				}
			});	 
		});*/
 		<!--FIN AGREGADO PARA MOSTRAR Y OCULTAR ZONAS EN PANTALLA INICIAL-->
		$('#referencia').click(function() {
			$("#flecha_referencia_m").toggle();
			$("#flecha_referencia_o").toggle();
			$("#contenedor_referencia").toggle();
		});
		
		$('#sustituto_tiempo_min_change_flota').click(function(){
			ocultar_o_mostrar_marcador("todos",markers_flota,null);
			markers_flota = [];
			markers_flota_contorno = [];
			markers_flota_escudo = [];
			markers_recorrido = [];
			markers_recorrido_alertas = [];
			vector_cuenta_km = [];
			flecha =[];
			vector_sin_bat=[];
			vector_sin_reporte=[];
			vector_con_reporte=[];
			vector_movimiento=[];
			vector_reposo=[];
			vector_encendidos=[];
			vector_apagados=[];
			vector_sin_gps=[];
			vector_estado_panico=[];
			vector_baja_bat=[];
			vector_total_detenidos=[];
			vector_cod_html = [];
			vector_datos_vehiculo = [];
			vector_numero_chip=[];
			$("#numero_chip").html("");
			analiza_flota(data_flota);
			ocultar_o_mostrar_marcador("todos",markers_flota,null);
			ocultar_o_mostrar_marcador(vector_total_detenidos,markers_flota,map);
			establecer_zoom();
			$('#todos_flota').css("display","inline-block");
			if($('#contenedor_referencia').css('display')!='none'){$("#referencia").click();};
		});
				
		$("#boton_nada").click(function(){
$('.ui-multiselect').css('width', '100px');
		});
		
		$("#todos_flota").click(function(){	
			if($("#dominio").val()!='NADA' && $("#grupo").val()==0){
				$("#todos_grupo").click();				
			}else{
				$("#todos_grupo").click();
				agrega_opcion_seleccione_grupos();
				$("#grupo").val(0);
				$("#grupo").selectmenu('chan');
				$("#grupo").selectmenu('up');//agregada para que funcione en IE
			}
			$("#todos_flota").hide();
			$("#resumen_del_recorrido").html("");
			filtro_visual="nada";
		});	

		$("#todos_grupo").click(function(){
			ocultar_o_mostrar_marcador("todos",markers_recorrido,null);
			oculta_recorrido_y_flechas();
			/*clusters_flota.clearMarkers();
			clusters_flota_contorno.clearMarkers();
			clusters_flota_escudo.clearMarkers();
			clusters_flota.addMarkers(markers_flota);
			clusters_flota_contorno.addMarkers(markers_flota_contorno);
			clusters_flota_escudo.addMarkers(markers_flota_escudo);*/			
			agrega_opcion_seleccione();
			establecer_zoom();
			$("#info_vehiculo_seleccionado").hide('slow');
			$("#elementos_del_recorrido").hide('slow');
			$("#info_recorrido").hide('slow');
			$("#hora_update").show('slow');
			$("#alertas_flota").show('slow');
			$("#info_flota").show('slow');	
			$("#todos_grupo").hide();
			if($("#grupo").css("display")!='none'){	
				$('#grupo').selectmenu('refresh');			
			}
			analiza_flota(data_flota);
			$("#dominios").selectmenu('refresh');
		});
		
		function cantidad_elementos(vector){
			var cant=0;
			for(i in vector){
				cant=cant+1;
			}
			return(cant);
		}
		
		function analiza_flota(data){			
			ocultar_o_mostrar_marcador("todos",markers_flota,null);			
			var dominio_anterior="";
			var cod_html_sensores="";
			var id_marcador=0;
			var km_sensor="";
			var horometro_sensor="";
			markers_flota_escudo=[];
			markers_flota_contorno=[];			
			vector_encendidos=[];
			vector_apagados=[];
			vector_sin_gps=[];
			vector_total_detenidos=[];
			vector_sin_bat=[];
			vector_sin_reporte=[];
			vector_con_reporte=[];
			vector_movimiento=[];
			vector_reposo=[];
			vector_estado_panico=[];
			vector_baja_bat=[];
			$("#total_encendidos").html("");
			$("#total_apagados").html("");
			$("#total_sin_gps").html("");
			$("#total_detenidos").html("");
			$("#vector_sin_bat").html("");
			$("#vector_sin_reporte").html("");
			$("#vector_con_reporte").html("");
			$("#vector_movimiento").html("");
			$("#vector_reposo").html("");
			$("#vector_en_panico").html("");
			$("#vector_baja_bat").html("");	
			if($("#grupo").val()!=grupo_anterior){
				$("#dominios").html('<option value="NADA">Unidad</option>');
			}						
			if(!$("#info_cliente").text()){
				$("#info_cliente").prepend(data.cliente[0]);	
			}	
			for(i=0;i<data.latitud.length;i++){
				if(data.id_grupo[i]==$("#grupo").val() || $("#grupo").val()==0){					
					if(data.cuenta_km[i]==1){					
						bot="<button id='km_sensor_reset' style='font-size:0.6em;' onclick = \"$('#dialogo').dialog( 'option', 'title', 'Advertencia');$('#dialogo').html('¿Está seguro que desea poner el cuenta kilómetros en cero?');$('#dialogo').dialog('open');$('#dialogo').dialog( 'option', 'buttons', {'Si': function(){$.post('acciones_mq3.php',{accion:'km_sensor_reset',imei:'"+data.imei[i]+"'},function(resp){$('#dialogo').dialog( 'option', 'title', 'Confirmación');$('#dialogo').html(resp);$('#dialogo').dialog( 'option', 'buttons', { 'aceptar': function() { $(this).dialog('close');} } );});vector_cod_html["+id_marcador+"]=vector_cod_html["+id_marcador+"].replace('>'+$('#km_sensor_total_usuario').text()+'<','>0<');$('.class_km_sensor_reset').text(0);}, 'No': function(){$(this).dialog('close');}});\" >Reset</button>";						
						km_redondeado=Math.round(data.km_sensor_total_usuario[i]*100)/100;
						km_sensor="Cuenta kilometros de "+data.nombre_sensor[i].toLowerCase()+": <span id='km_sensor_total_usuario' class='class_km_sensor_reset'>"+km_redondeado+"</span> Km."+bot+"<br>";
						vector_cuenta_km[id_marcador]=data.nombre_sensor[i].toLowerCase();
					}
					if(data.horometro[i]==1){					
						bot_1="<button id='horometro_reset' style='font-size:0.6em; margin-top: -2px;' onclick = \"$('#dialogo').dialog( 'option', 'title', 'Advertencia');$('#dialogo').html('¿Está seguro que desea poner el horómetro en cero?');$('#dialogo').dialog('open');$('#dialogo').dialog( 'option', 'buttons', {'Si': function(){$.post('acciones_mq3.php',{accion:'horo_reset',imei:'"+data.imei[i]+"'},function(resp){$('#dialogo').dialog( 'option', 'title', 'Confirmación');$('#dialogo').html(resp);$('#dialogo').dialog( 'option', 'buttons', { 'aceptar': function() { $(this).dialog('close');} } );});vector_cod_html["+id_marcador+"]=vector_cod_html["+id_marcador+"].replace('>'+$('#horometro_total_usuario').text()+'<','>0<');$('.class_horo_reset').text(0);}, 'No': function(){$(this).dialog('close');}});\" >Reset</button>";				
						horas_horometro=data.Horometro_usuario[i]/3600;
						horas_horometro= Math.round(horas_horometro*100)/100;
						horometro_sensor="<br>"+"Horómetro: <span id='horometro_total_usuario' class='class_horo_reset'>"+horas_horometro+"</span> Hs."+bot_1;
					}	
					if(data.cod_sensor[i]=="15"){
					 if(data.estado_sensor_en_bit[i]==1){
						vector_movimiento[id_marcador]=id_marcador;	
						}else{
						vector_reposo[id_marcador]=id_marcador;
						}
					}					
					if(data.dominio[i+1]!=data.dominio[i]){//Si el prox a analizar es distinto del actual, entonces agrego TODO de este, de lo contrario solo tenemos que acumular la info de sensores que necesitamos.
					if($("#dominios").val()==id_marcador || $("#dominios").val()=="NADA" ){						
						if(data.voltaje_vehiculo[i]<5){
							vector_sin_bat[id_marcador]=id_marcador;
							if(data.voltaje_avl[i]<=data.bateria_agotada[i]){
								if(data.tiempo_sin_reporte[i]>20){
									carga_bateria_interna= "<br>Batería interna agotada";
								}else{
									carga_bateria_interna= "<br>Carga de batería interna: Muy baja";
								}
							}else{
								if(data.voltaje_avl[i]<=data.bateria_baja[i]){
									carga_bateria_interna= "<br>Carga de batería interna: Baja";
								}else{
									if(data.voltaje_avl[i]<data.bateria_alta_media[i]){
										carga_bateria_interna= "<br>Carga de batería interna: Media";
									}else{
										carga_bateria_interna= "<br>Carga de batería interna: Alta";	
									}
								}	
							}
						}else{
							carga_bateria_interna= "";	
						}			
						if(data.tiempo_sin_reporte[i]>20){
							vector_sin_reporte[id_marcador]=id_marcador;
						}else{
							vector_con_reporte[id_marcador]=id_marcador;
						}
						if(data.estado_panico[i]!=null){
							vector_estado_panico[id_marcador]=id_marcador;
						}
						if(data.voltaje_avl[i] <=data.bateria_baja[i]){
							vector_baja_bat[id_marcador]=id_marcador;
						}
						if((data.cod_sensor[i]=="1") && (data.estado_sensor_en_bit[i]==1)){
							vector_encendidos[id_marcador]=id_marcador;	
						}else{
							vector_apagados[id_marcador]=id_marcador;
						}

						if(data.tiempo_parada[i]>=$("#tiempo_min").val()){
							vector_total_detenidos[id_marcador]=id_marcador;
							if(data.tiempo_parada[i]>'60'){
							cod_html_sensores=cod_html_sensores+"Tiempo de parada: "+tiempo_detenido(data.tiempo_parada[i]*60)+"<br>";	
							}
						}
						if((data.hdop[i]>0.1)&&(data.hdop[i]<1.7)){
							intensidad_gps = "Muy buena";
						}else{
							if((data.hdop[i]>1.6)&&(data.hdop[i]<2.5)){
								intensidad_gps = "Buena";
							}else{
								if((data.hdop[i]>2.4)&&(data.hdop[i]<5.0)){
									intensidad_gps = "Mala";
								}else{
									intensidad_gps = "Nula";
								}
							}
							if(data.tiempo_sin_sat[i] > 5){
								vector_sin_gps[id_marcador]=id_marcador;
								cod_html_sensores="Última ubicación con señal de GPS: "+data.hora_satelite[i]+"<br>"+cod_html_sensores;
							}
						}
							
						cod_html_sensores=cod_html_sensores+data.nombre_sensor[i]+": "+data.estado_sensor[i]+"<br>";
						var latlng = new google.maps.LatLng(data.latitud[i],data.longitud[i]);
						extremosdepuntos.extend(latlng);
						km_redondeado=Math.round(data.km_total_usuario[i]*100)/100;	
						/*if(cod_html_sensores=="null: null<br>"){
							cod_html_sensores="Vehículo sin sensores intalados<br>";
						}*/		
						cod_html_sensores=cod_html_sensores.replace("null: null", "Vehículo sin sensores intalados.");
						bot="<button id='km_reset' style='font-size:0.6em; margin-top: -2px;' onclick = \"$('#dialogo').dialog( 'option', 'title', 'Advertencia');$('#dialogo').html('¿Está seguro que desea poner el cuenta kilómetros en cero?');$('#dialogo').dialog('open');$('#dialogo').dialog( 'option', 'buttons', {'Si': function(){$.post('acciones_mq3.php',{accion:'km_reset',imei:'"+data.imei[i]+"'},function(resp){$('#dialogo').dialog( 'option', 'title', 'Confirmación');$('#dialogo').html(resp);$('#dialogo').dialog( 'option', 'buttons', { 'aceptar': function() { $(this).dialog('close');} } );});vector_cod_html["+id_marcador+"]=vector_cod_html["+id_marcador+"].replace('>'+$('#km_total_usuario').text()+'<','>0<');$('.class_km_reset').text(0);}, 'No': function(){$(this).dialog('close');}});\" >Reset</button>";
						cod_html="Actualizado: "+data.hora_avl[i]+"<br>"+cod_html_sensores+"Cuenta kilómetros: <span id='km_total_usuario' class='class_km_reset'>"+km_redondeado+"</span> Km."+bot+"<br>"+km_sensor+data.estado_bateria[i]+" ("+data.voltaje_vehiculo[i]+" V)"+carga_bateria_interna+"<br>Señal de GPS: "+intensidad_gps+horometro_sensor+"<br>";
						if(data_flota.ingreso_zona[i]!=null){//Agrego datos de registro zonal último
							cod_html=cod_html+"<span>"+data_flota.nombre_zona_ultima[i]+"</span><ul style='-webkit-margin-before: 0px; -webkit-margin-after: 0px;'><li><span>Ingreso: "+data_flota.ingreso_zona[i]+"</span></li><li><span>Egreso: "+data_flota.egreso_zona[i]+"</span></li><li><span>Tiempo: "+data_flota.tiempo_en_zona[i]+"</span></li></ul>";
						}
						if(!vector_direcciones[id_marcador]){
							vector_direcciones[id_marcador]='';
						}
						if(/Relay/.test(cod_html) && (data.restriccion_web[i]!="comando_detencion")){
							vector_cod_html[id_marcador]=vector_direcciones[id_marcador]+cod_html+"<button id='detener_vehiculo' style='font-size:0.6em;' onclick = \"$('#dialogo').dialog( 'option', 'buttons', {'Aceptar': function(){$(this).dialog('close');}});$('#dialogo').html('Para detener el vehículo envíe por sms el comando "+data.cmd_detencion[i]+" al número '+data_flota.numero["+i+"]+'.<br>Para permitir nuevamente el funcionamiento del vehículo envíe por sms el comando "+data.cmd_contra_detencion[i]+" al número '+data_flota.numero["+i+"]+'.');$('#dialogo').dialog({ title: 'Comando de Dentención' },'open');\" >Detener vehículo</button>";
						}else{
							vector_cod_html[id_marcador]=vector_direcciones[id_marcador]+cod_html;
						}
						vector_datos_vehiculo[id_marcador]="Denominación: "+data.dominio[i]+"<br>Patente: "+data.patente[i]+"<br>Marca: "+data.marca[i]+"<br>Modelo: "+data.modelo[i]+"<br>Color: "+data.color[i]+"<br>";
						if(data.numero[i]==null){
							numero_con_espacios = "Acceso no autorizado";
						}else{
							numero_con_espacios=data.numero[i].substring(0,3)+" "+data.numero[i].substring(3,6)+" "+data.numero[i].substring(6,11);
						}
						vector_numero_chip[id_marcador]="Número de línea: "+numero_con_espacios;
						
						if(data_flota.estado_panico[i]!=null){
							//LA LINEA DE html: ES CLAVE PARA QUE FUNCIONE EL INFOWINDOWS! (No es propiedad de markerlabel, la agrego porque antes quedaba mal cuando al actuar el listener recien se ejecutaba el codigo, por lo que al no ser estáticos los contenidos de html, quedaban referenciados pésimo)
								var x=(data.dominio[i].length*7)/2;
								markers_flota[id_marcador]= new MarkerWithLabel({
									icon:'images/panico.png',//new google.maps.MarkerImage('images/panico.png', null, null, new google.maps.Point(5, 35)),	
									position: latlng,
									map: map,
									draggable: false,
									title:"PANICO",
									shadow:new google.maps.MarkerImage('images/sombra.png', null, null, new google.maps.Point(0, 56)),
									zIndex:zindex,
									html:"El botón de pánico fué presionado por última vez el día "+data_flota.estado_panico[i].substring(0,11)+" a las "+data_flota.estado_panico[i].substring(12,17)+".<br><button onclick=\"$.post('acciones_mq3.php',{ accion:'actualiza_panico',imei: data_flota.imei["+i+"]}, function(){});infowindow.close();$('#boton_inicio').click();\">Quitar Pánico</button><br><br><br>",
									//animation: google.maps.Animation.DROP,
									labelContent: data.dominio[i],
									labelAnchor: new google.maps.Point(x, 5),
									labelClass: "labels", // the CSS class for the label
								});  	
								google.maps.event.addListener(markers_flota[id_marcador], 'click', function() {
									infowindow.setContent(this.html);
									infowindow.open(map,this);		
								});								
							}else{
								var icono_verde=0;
//el último sensor analizado siempre será el código de menor valor (el de "contacto" es el uno) por lo que si no es 1, no tiene sensor de contacto instalado, por lo tanto, hasta aquí el ícono deberá ser naranja.

								if((data.cod_sensor[i]==6 && data.estado_sensor_en_bit[i]==1) || (data.cod_sensor[i]==14 && data.estado_sensor_en_bit[i]==0) || (data.cod_sensor[i]==1 && data.estado_sensor_en_bit[i]==1)){//el código 6 es "enganche de acoplado" para equipos de meitrack, el 14 para los de skypatrol (que mandan cero cuando está activo)
									icono_verde=1;
								}
						agrego_marcador_flota(latlng,data.dominio[i],id_marcador,vector_cod_html[id_marcador],icono_verde,data.velocidad[i],data.direcc[i],data.tiempo_parada[i],data.tiempo_sin_sat[i],data.tiempo_sin_reporte[i],data.min_buffer[i],data.hora_avl_tmp[i],id_marcador);
						}

						if($("#grupo").val()!=grupo_anterior){	
							$("#dominios").append('<option value="'+id_marcador+'">'+data.dominio[i]+'</option>');
						}
						vector_imeis[id_marcador] = data.imei[i];
						id_marcador=id_marcador+1;
						cantidad_vehiculos_anterior=id_marcador;//capturo este dato para compararlo luego de actualizar: si se agregó uno debo hacer refresh para q no se descuajeringue todo
						cod_html_sensores="";
						km_sensor="";
						horometro_sensor="";
					}//del if reciente 
					else{
						id_marcador=id_marcador+1;
						cod_html_sensores="";
						km_sensor="";
						horometro_sensor="";
						
					}
					}else{ //O sea que estamos evaluando otra linea de el mismo vehiculo
						/*if(cod_html_sensores=="null: null<br>"){
							cod_html_sensores="Vehículo sin sensores intalados<br>";
						}*/
						cod_html_sensores=cod_html_sensores.replace("null: null", "Vehículo sin sensores intalados.");
						cod_html_sensores=cod_html_sensores+data.nombre_sensor[i]+": "+data.estado_sensor[i]+"<br>";	
								
					}
				}			
			}
			$( "#dominios" ).selectmenu()
				.selectmenu( "menuWidget" )
				.addClass( "overflow_select" );
			if(grupo_anterior==-1){
				grupo_anterior=$("#grupo").val();
			}			
			establecer_zoom();			
			$("#total_vehiculos").html(id_marcador);	
			$("#total_encendidos").html(cantidad_elementos(vector_encendidos));
			$("#total_apagados").html(cantidad_elementos(vector_apagados));
			$("#total_detenidos").html(cantidad_elementos(vector_total_detenidos));
			if(cantidad_elementos(vector_encendidos)!=0){
				$("#total_encendidos").append("<button  onclick='ocultar_o_mostrar_marcador(\"todos\",markers_flota,null); ocultar_o_mostrar_marcador(vector_encendidos,markers_flota,map); establecer_zoom(); $(\"#\"+filtro_visual+\" :button\").css(\"background\",\"rgb(85, 85, 85) url(/css/ui/images/ui-bg_glass_20_555555_1x400.png) repeat-x scroll 50% 50% / auto padding-box border-box\");filtro_visual=\"total_encendidos\";$(\"#\"+filtro_visual+\" :button\").css(\"background\", \"#E67817\");$(\"#todos_flota\").css(\"display\",\"inline-block\");if($(\"#contenedor_referencia\").css(\"display\")!=\"none\"){$(\"#referencia\").click();};'>ver</button>");	
			}
			if(cantidad_elementos(vector_apagados)!=0){
				//$("#total_apagados").append("<button>ver</button>");
				$("#total_apagados").append("<button onclick=' ocultar_o_mostrar_marcador(\"todos\",markers_flota,null);ocultar_o_mostrar_marcador(vector_apagados,markers_flota,map); establecer_zoom();$(\"#\"+filtro_visual+\" :button\").css(\"background\",\"rgb(85, 85, 85) url(/css/ui/images/ui-bg_glass_20_555555_1x400.png) repeat-x scroll 50% 50% / auto padding-box border-box\");filtro_visual=\"total_apagados\";$(\"#\"+filtro_visual+\" :button\").css(\"background\", \"#E67817\");$(\"#todos_flota\").css(\"display\",\"inline-block\");if($(\"#contenedor_referencia\").css(\"display\")!=\"none\"){$(\"#referencia\").click();};'>ver</button>");  
			}
			if(cantidad_elementos(vector_sin_gps)!=0){
				$("#total_sin_gps").html(cantidad_elementos(vector_sin_gps));
				$("#total_sin_gps").prepend("Sin señal de GPS: ");
				$("#total_sin_gps").append("<button onclick='ocultar_o_mostrar_marcador(\"todos\",markers_flota,null); ocultar_o_mostrar_marcador(vector_sin_gps,markers_flota,map); establecer_zoom(); $(\"#\"+filtro_visual+\" :button\").css(\"background\",\"rgb(85, 85, 85) url(/css/ui/images/ui-bg_glass_20_555555_1x400.png) repeat-x scroll 50% 50% / auto padding-box border-box\");filtro_visual=\"total_sin_gps\";$(\"#\"+filtro_visual+\" :button\").css(\"background\", \"#E67817\");$(\"#todos_flota\").css(\"display\",\"inline-block\");if($(\"#contenedor_referencia\").css(\"display\")!=\"none\"){$(\"#referencia\").click();};'>ver</button>");
			}
			if(cantidad_elementos(vector_total_detenidos)!=0){
				$("#total_detenidos").append("<button id='pepito' onclick='$(\"#sustituto_tiempo_min_change_flota\").click();$(\"#\"+filtro_visual+\" :button\").css(\"background\",\"rgb(85, 85, 85) url(/css/ui/images/ui-bg_glass_20_555555_1x400.png) repeat-x scroll 50% 50% / auto padding-box border-box\");filtro_visual=\"total_detenidos\";$(\"#\"+filtro_visual+\" :button\").css(\"background\", \"#E67817\");'>ver</button>");
			}			
			if(cantidad_elementos(vector_sin_bat)>0){
				$("#vector_sin_bat").html("Sin conexión a batería externa: "+cantidad_elementos(vector_sin_bat)+"<button onclick=' ocultar_o_mostrar_marcador(\"todos\",markers_flota,null);ocultar_o_mostrar_marcador(vector_sin_bat,markers_flota,map); establecer_zoom(); $(\"#\"+filtro_visual+\" :button\").css(\"background\",\"rgb(85, 85, 85) url(/css/ui/images/ui-bg_glass_20_555555_1x400.png) repeat-x scroll 50% 50% / auto padding-box border-box\");filtro_visual=\"vector_sin_bat\";$(\"#\"+filtro_visual+\" :button\").css(\"background\", \"#E67817\");$(\"#todos_flota\").css(\"display\",\"inline-block\");if($(\"#contenedor_referencia\").css(\"display\")!=\"none\"){$(\"#referencia\").click();};'>ver</button>");				
			}
			if((cantidad_elementos(vector_con_reporte)>0)){//esto, por el momento es sólo para CITRUSVIL
				$("#vector_con_reporte").html("Reportandose al servidor: "+cantidad_elementos(vector_con_reporte)+"<button onclick=' ocultar_o_mostrar_marcador(\"todos\",markers_flota,null);ocultar_o_mostrar_marcador(vector_con_reporte,markers_flota,map); establecer_zoom(); $(\"#\"+filtro_visual+\" :button\").css(\"background\",\"rgb(85, 85, 85) url(/css/ui/images/ui-bg_glass_20_555555_1x400.png) repeat-x scroll 50% 50% / auto padding-box border-box\");filtro_visual=\"vector_con_reporte\";$(\"#\"+filtro_visual+\" :button\").css(\"background\", \"#E67817\");$(\"#todos_flota\").css(\"display\",\"inline-block\");if($(\"#contenedor_referencia\").css(\"display\")!=\"none\"){$(\"#referencia\").click();};'>ver</button>");
			}
			if(cantidad_elementos(vector_sin_reporte)>0){
				$("#vector_sin_reporte").html("Sin reportarse al servidor: "+cantidad_elementos(vector_sin_reporte)+"<button onclick=' ocultar_o_mostrar_marcador(\"todos\",markers_flota,null);ocultar_o_mostrar_marcador(vector_sin_reporte,markers_flota,map); establecer_zoom();$(\"#\"+filtro_visual+\" :button\").css(\"background\",\"rgb(85, 85, 85) url(/css/ui/images/ui-bg_glass_20_555555_1x400.png) repeat-x scroll 50% 50% / auto padding-box border-box\");$(\"#\"+filtro_visual+\" :button\").css(\"background\",\"rgb(85, 85, 85) url(/css/ui/images/ui-bg_glass_20_555555_1x400.png) repeat-x scroll 50% 50% / auto padding-box border-box\"); filtro_visual=\"vector_sin_reporte\";$(\"#\"+filtro_visual+\" :button\").css(\"background\", \"#E67817\");$(\"#todos_flota\").css(\"display\",\"inline-block\");if($(\"#contenedor_referencia\").css(\"display\")!=\"none\"){$(\"#referencia\").click();};'>ver</button>");
			}
			if((cantidad_elementos(vector_movimiento)>0)){
				$("#vector_movimiento").html("En movimiento: "+cantidad_elementos(vector_movimiento)+"<button onclick=' ocultar_o_mostrar_marcador(\"todos\",markers_flota,null);ocultar_o_mostrar_marcador(vector_movimiento,markers_flota,map); establecer_zoom();$(\"#\"+filtro_visual+\" :button\").css(\"background\",\"rgb(85, 85, 85) url(/css/ui/images/ui-bg_glass_20_555555_1x400.png) repeat-x scroll 50% 50% / auto padding-box border-box\"); filtro_visual=\"vector_movimiento\";$(\"#\"+filtro_visual+\" :button\").css(\"background\", \"#E67817\");$(\"#todos_flota\").css(\"display\",\"inline-block\");if($(\"#contenedor_referencia\").css(\"display\")!=\"none\"){$(\"#referencia\").click();};'>ver</button>");
			}
			if(cantidad_elementos(vector_reposo)>0){
				$("#vector_reposo").html("En reposo: "+cantidad_elementos(vector_reposo)+"<button onclick=' ocultar_o_mostrar_marcador(\"todos\",markers_flota,null);ocultar_o_mostrar_marcador(vector_reposo,markers_flota,map); establecer_zoom(); $(\"#\"+filtro_visual+\" :button\").css(\"background\",\"rgb(85, 85, 85) url(/css/ui/images/ui-bg_glass_20_555555_1x400.png) repeat-x scroll 50% 50% / auto padding-box border-box\");filtro_visual=\"vector_reposo\";$(\"#\"+filtro_visual+\" :button\").css(\"background\", \"#E67817\");$(\"#todos_flota\").css(\"display\",\"inline-block\");if($(\"#contenedor_referencia\").css(\"display\")!=\"none\"){$(\"#referencia\").click();};'>ver</button>");
			}
			if(cantidad_elementos(vector_estado_panico)>0){
				$("#vector_en_panico").html("En estado Pánico:"+cantidad_elementos(vector_estado_panico)+"<button onclick=' ocultar_o_mostrar_marcador(\"todos\",markers_flota,null);ocultar_o_mostrar_marcador(vector_estado_panico,markers_flota,map); establecer_zoom(); $(\"#\"+filtro_visual+\" :button\").css(\"background\",\"rgb(85, 85, 85) url(/css/ui/images/ui-bg_glass_20_555555_1x400.png) repeat-x scroll 50% 50% / auto padding-box border-box\");filtro_visual=\"vector_en_panico\";$(\"#\"+filtro_visual+\" :button\").css(\"background\", \"#E67817\");$(\"#todos_flota\").css(\"display\",\"inline-block\");if($(\"#contenedor_referencia\").css(\"display\")!=\"none\"){$(\"#referencia\").click();};'>ver</button>");
			}						
			if(cantidad_elementos(vector_baja_bat)>0){
				$("#vector_baja_bat").html("Baja batería interna: "+cantidad_elementos(vector_baja_bat)+"<button onclick=' ocultar_o_mostrar_marcador(\"todos\",markers_flota,null);ocultar_o_mostrar_marcador(vector_baja_bat,markers_flota,map); establecer_zoom();$(\"#\"+filtro_visual+\" :button\").css(\"background\",\"rgb(85, 85, 85) url(/css/ui/images/ui-bg_glass_20_555555_1x400.png) repeat-x scroll 50% 50% / auto padding-box border-box\"); filtro_visual=\"vector_baja_bat\";$(\"#\"+filtro_visual+\" :button\").css(\"background\", \"#E67817\");$(\"#todos_flota\").css(\"display\",\"inline-block\");if($(\"#contenedor_referencia\").css(\"display\")!=\"none\"){$(\"#referencia\").click();};'>ver</button>");
			}				
			zindex=1;		//Pongo el zindex en 1 para que no se siga incrementando al vicio
			if(!$("#alertas_flota ul li").text()){
				$('#mensaje_sin_alertas').show();
			}else{
				$('#mensaje_sin_alertas').hide();
			}
			$('button').button();
			$("#boton_inicio").show();
			$("#pausa").show();
			/*clusters_flota = new MarkerClusterer(map, markers_flota);
			clusters_flota_contorno = new MarkerClusterer(map, markers_flota_contorno);
			clusters_flota_escudo = new MarkerClusterer(map, markers_flota_escudo);*/
			if((mostrar_zonas==1) && ($("#ver_ocultar_zonas").text()=='ocultar')){//para que muestre las zonas que tiene dibujadas el cliente
				carga_zonas_seguimiento();
				mostrar_zonas=0;
			}
		}
				
		function analiza_recorrido(data){
					ocultar_o_mostrar_marcador("todos",markers_recorrido,null);
					/*clusters_flota.clearMarkers();
					clusters_flota_contorno.clearMarkers();
					clusters_flota_escudo.clearMarkers();*/
					puntos_para_recorrido = [];
					markers_recorrido = [];
					markers_recorrido_alertas = [];
					matriz_alertas = [];	
					vector_direcciones=[];
					primera_vez = 0;
					contador_paradas=0;
					total_detenido=0;
					kilometraje=0;
					kilometraje_sensor=0;
					velocidad_maxima=0;
					velocidad_promedio=0;
					var icono_png;
					var icono_png_pelota="";
					var cod_html="";
					$("#resumen_del_recorrido").html('');
					for(i=0;i<data.latitud.length;i++){
						var latlng = new google.maps.LatLng(data.latitud[i],data.longitud[i]);
						extremosdepuntos.extend(latlng);
						switch(i){
							case (0):
								$("#resumen_del_recorrido").html('- Inicio del análisis: '+data.inicio_analisis+'<br>- Fin del análisis: '+data.fin_analisis);
								if($('#tiempo_min_detencion').val()<=data.tiempo_detenido[i]/60){
									if(data.latitud.length==1){
										icono_png="parada";
										cod_html="Desde las "+data.hora_avl[i]+" el vehículo estuvo detenido "+tiempo_detenido(data.tiempo_detenido[i])+"<br>Sin recorrido.";
									}else{
										icono_png="inicio_parada";//icono inicio con manito		
										cod_html="Desde las "+data.hora_avl[i]+" el vehículo estuvo detenido durante "+tiempo_detenido(data.tiempo_detenido[i])+"<br>Inicio el recorrido a las "+suma_minutos_horario(data.tiempo_detenido[i],data.hora_avl[i])+".";								
									}
									contador_paradas=contador_paradas+1;
								}else{
									icono_png="inicio";//solamente icono inicio
									cod_html="Inicio del recorrido.<br>Velocidad: "+data.velocidad[i]+"<br>Hora: "+data.hora_avl[i];									 
								}	
								total_detenido=total_detenido+parseInt(data.tiempo_detenido[i]);
								if(data.velocidad[i]>velocidad_maxima){
									velocidad_maxima=data.velocidad[i];
								}
								if(data.latitud.length-1!=0){
									break;
								}
							case (data.latitud.length-1):
								if(data.latitud.length-1!=0){
									if(($('#tiempo_min_detencion').val()<=data.tiempo_detenido[i]/60)){
										icono_png="fin_parada";//icono Final con manito
										contador_paradas=contador_paradas+1;
										cod_html="A las "+data.hora_avl[i]+" el vehículo se detuvo durante "+tiempo_detenido(data.tiempo_detenido[i])+"<br>Fin del recorrido.";																	
									}else{
										icono_png="fin";//solamente icono Final
										cod_html="Fin del recorrido.<br>Velocidad: "+data.velocidad[i]+"<br>Hora: "+data.hora_avl[i];
									}
								}
								duracion=tiempo_detenido(data.duracion);
								total_detenido=total_detenido+parseInt(data.tiempo_detenido[i]);
								kilometraje=Math.round(data.kilometraje*100)/100;
								kilometraje_sensor=Math.round(data.kilometraje_sensor*100)/100;
								tiempo_movimiento=((data.duracion-total_detenido)/3600);
								velocidad_promedio= Math.round((kilometraje/tiempo_movimiento)*100)/100;
								if(data.velocidad[i]>velocidad_maxima){
									velocidad_maxima=data.velocidad[i];
								}
								$("#resumen_del_recorrido").append('<br>- Duración del recorrido: '+duracion+'<br>- Cantidad de paradas de más de '+$("#tiempo_min_detencion").val()+' min: '+contador_paradas+'<br>- Total detenido: '+tiempo_detenido(total_detenido)+'<br>- Kilometraje: '+kilometraje+' km.<br>');
								if(vector_cuenta_km[$("#dominios").val()]){
									$("#resumen_del_recorrido").append('- Cuenta km de '+vector_cuenta_km[$("#dominios").val()]+': '+kilometraje_sensor+' km.<br>');
								}
								$("#resumen_del_recorrido").append('- Velocidad máxima: '+velocidad_maxima+' Km/h.<br>- Velocidad promedio: '+velocidad_promedio+' Km/h.');	
								break;
							default:
								if($('#tiempo_min_detencion').val()<=data.tiempo_detenido[i]/60){
									contador_paradas=contador_paradas+1;
									icono_png="parada";//icono manito	
									cod_html="A las "+data.hora_avl[i]+" el vehículo se detuvo durante "+tiempo_detenido(data.tiempo_detenido[i])+" Inició nuevamente el recorrido a las "+suma_minutos_horario(data.tiempo_detenido[i],data.hora_avl[i])+".";																							
								}else{
									if(data.cod_trama[i]==32 || data.cod_trama[i]==77){//agregado para distinguir cuando es puntito de giro, el codigo 77 es para T_zone
										icono_png="puntitogiro";
									}	
									else{
										icono_png="puntito";//solamente puntito
									}
									cod_html="Velocidad: "+data.velocidad[i]+" Km/h. <br>Hora: "+data.hora_avl[i];
								}
								total_detenido=total_detenido+parseInt(data.tiempo_detenido[i]);
								if(data.velocidad[i]>velocidad_maxima){
									velocidad_maxima=data.velocidad[i];
								}
								break;
						}
						var codigo_unificado=0; // Voy a unificar el codigo, siempre me voy a quedar con el menor del grupo
						if(data.tipo_alarma[i]!=''){
							icono_png_pelota="alertas";
							for(j=0;j<data.tipo_alarma[i].length && data.nombre_alerta[i]!='';j++){
								if(data.tipo_alarma[i][j]==101 || data.tipo_alarma[i][j]==104 || data.tipo_alarma[i][j]==106 || data.tipo_alarma[i][j]==108 || data.tipo_alarma[i][j]==112 || data.tipo_alarma[i][j]==115){
										codigo_unificado=data.tipo_alarma[i][j]-1;
										data.estado_sensor[i][j]=1; //emulo que esta en 1
								}
								else{
									codigo_unificado=data.tipo_alarma[i][j];
								}
								if(!matriz_alertas[codigo_unificado]){//Si no existe el elemento con ese num de codigo...
									matriz_alertas[codigo_unificado]=new Array(data.nombre_alerta[i][j],new Array(),'',new Array(),'',new Array());									
									//Una fila X de la matriz tiene las sig columnas: (la X siempre va a ser un codigo de alarma)
									//col 0:nombre de alerta, col 1:array de indice de posiciones donde aparece. col 2:nombre para el estado_sensor = 1. 
									//col 3: idem col 1 pero para col 2. Col 4 y 5 son idem con la 2 y 3 pero para el estado_sensor = 0
								}
								if(!cod_html_alertas[i]){
									cod_html_alertas[i]="";
								}else{
									cod_html_alertas[i]=cod_html_alertas[i]+"<br>";
								}
								if(data.caso_alerta[i][j]){
									if(data.estado_sensor[i][j]==1){//Aqui Si o Si el estado es 0 o 1
										if(matriz_alertas[codigo_unificado][2]==''){
											matriz_alertas[codigo_unificado][2]=data.caso_alerta[i][j];
										}
										matriz_alertas[codigo_unificado][3].push(i);
									}else{
										if(matriz_alertas[codigo_unificado][4]==''){
											matriz_alertas[codigo_unificado][4]=data.caso_alerta[i][j];
										}
										matriz_alertas[codigo_unificado][5].push(i);	
									}
									cod_html_alertas[i]=cod_html_alertas[i]+data.nombre_alerta[i][j]+": "+data.caso_alerta[i][j]+". Hora: "+data.hora_alerta[i][j];
									matriz_alertas[codigo_unificado][1].push(i);
								}else{
									if(codigo_unificado==103){
										cod_html_alertas[i]=cod_html_alertas[i]+data.nombre_alerta[i][j]+": "+data.velocidad[i]+" Km/h. Hora: "+data.hora_alerta[i][j];
									}else{
										cod_html_alertas[i]=cod_html_alertas[i]+data.nombre_alerta[i][j]+". Hora: "+data.hora_alerta[i][j];
									}															
									switch(data.tipo_alarma[i][j]){
											case 100:// como si fuese el estado de sensor =0
												matriz_alertas[codigo_unificado][0]="Estado de batería interna";												
												matriz_alertas[codigo_unificado][4]=data.nombre_alerta[i][j];
												matriz_alertas[codigo_unificado][5].push(i);
												break;
											case 101:// como si fuese el estado de sensor =1
												matriz_alertas[codigo_unificado][0]="Estado de batería interna";												
												matriz_alertas[codigo_unificado][2]=data.nombre_alerta[i][j];
												matriz_alertas[codigo_unificado][3].push(i);		
												data.tipo_alarma[i][j]=codigo_unificado;
												break;
											case 103:
												matriz_alertas[codigo_unificado][0]="Velocidad";												
												matriz_alertas[codigo_unificado][4]=data.nombre_alerta[i][j];
												matriz_alertas[codigo_unificado][5].push(i);																								
												break;
											case 104:
												matriz_alertas[codigo_unificado][0]="Velocidad";												
												matriz_alertas[codigo_unificado][2]=data.nombre_alerta[i][j];
												matriz_alertas[codigo_unificado][3].push(i);	
												data.tipo_alarma[i][j]=codigo_unificado;										
												break;
											case 105:
												matriz_alertas[codigo_unificado][0]="Aceleración";												
												matriz_alertas[codigo_unificado][4]=data.nombre_alerta[i][j];
												matriz_alertas[codigo_unificado][5].push(i);												
												break;
											case 106:
												matriz_alertas[codigo_unificado][0]="Aceleración";												
												matriz_alertas[codigo_unificado][2]=data.nombre_alerta[i][j];
												matriz_alertas[codigo_unificado][3].push(i);	
												data.tipo_alarma[i][j]=codigo_unificado;											
												break;
											case 107:
												matriz_alertas[codigo_unificado][0]="Reporte";												
												matriz_alertas[codigo_unificado][4]=data.nombre_alerta[i][j];
												matriz_alertas[codigo_unificado][5].push(i);												
												break;
											case 108:
												matriz_alertas[codigo_unificado][0]="Reporte";												
												matriz_alertas[codigo_unificado][2]=data.nombre_alerta[i][j];
												matriz_alertas[codigo_unificado][3].push(i);		
												data.tipo_alarma[i][j]=codigo_unificado;																				
												break;
											case 111:
												matriz_alertas[codigo_unificado][0]="Estado de batería externa";												
												matriz_alertas[codigo_unificado][4]=data.nombre_alerta[i][j];
												matriz_alertas[codigo_unificado][5].push(i);																				
												break;
											case 112:
												matriz_alertas[codigo_unificado][0]="Estado de batería externa";												
												matriz_alertas[codigo_unificado][2]=data.nombre_alerta[i][j];
												matriz_alertas[codigo_unificado][3].push(i);	
												data.tipo_alarma[i][j]=codigo_unificado;											
												break;
											case 114:
												matriz_alertas[codigo_unificado][0]="Ahorro de datos";												
												matriz_alertas[codigo_unificado][4]=data.nombre_alerta[i][j];
												matriz_alertas[codigo_unificado][5].push(i);												
												break;
											case 115:
												matriz_alertas[codigo_unificado][0]="Ahorro de datos";												
												matriz_alertas[codigo_unificado][2]=data.nombre_alerta[i][j];
												matriz_alertas[codigo_unificado][3].push(i);		
												data.tipo_alarma[i][j]=codigo_unificado;																
												break;
											default:
												caso="";
												break;
									}
									matriz_alertas[codigo_unificado][1].push(i);
								}
								cod_html_alertas_backup=cod_html_alertas.slice(0);
							}							
						}									
						if(icono_png_pelota!="alertas" || icono_png!="puntito" || icono_png!="puntitogiro"){
							agrego_marcador_recorrido(latlng,icono_png,i,cod_html,icono_png,8);
						}
						if(icono_png_pelota=="alertas"){							
							agrego_marcador_recorrido(latlng,icono_png_pelota,i,cod_html_alertas[i],icono_png_pelota,data.tipo_alarma[i].length);
						}
						puntos_para_recorrido.push(latlng);	
						//gestion de sentido del recorrido
						if(i >0 ){
							var p0= new google.maps.LatLng(data.latitud[i-1],data.longitud[i-1]);
							var p1= new google.maps.LatLng(data.latitud[i],data.longitud[i]);
							var vector = new google.maps.LatLng( p1.lat() - p0.lat(), p1.lng() - p0.lng() );
							var length = Math.sqrt( vector.lat() * vector.lat() + vector.lng() * vector.lng() );
							var normal = new google.maps.LatLng( vector.lat()/length, vector.lng()/length );
							var middle = new google.maps.LatLng( (p1.lat() + p0.lat())/2, (p1.lng() + p0.lng())/2 );
							var constante=0.00055;
							if(length < 0.0019){
								constante=0.00015;
							}
							var offsetMiddle = new google.maps.LatLng( normal.lat()*constante, normal.lng()*constante ),
								arrowPart1 = new google.maps.LatLng( -offsetMiddle.lng()*0.4, offsetMiddle.lat()*0.4 ),
								arrowPart2 = new google.maps.LatLng( offsetMiddle.lng()*0.4, -offsetMiddle.lat()*0.4 ),
								arrowPoint1 = new google.maps.LatLng( middle.lat() - offsetMiddle.lat() + arrowPart1.lat(), middle.lng() - offsetMiddle.lng() + arrowPart1.lng() ),
								arrowPoint2 = new google.maps.LatLng( middle.lat() - offsetMiddle.lat() + arrowPart2.lat(), middle.lng() - offsetMiddle.lng() + arrowPart2.lng() );		
							flechitas_coordenadas=([arrowPoint1,middle,arrowPoint2]);	
							if(length > 0.0009){
								agrego_poligono(flechitas_coordenadas);							
								//flecha[flecha.length-1].setMap(map);	
							}
						}
						icono_png_pelota="";
					}
					establecer_zoom();
					polilinea_recorrido.setPath(puntos_para_recorrido);
					polilinea_recorrido.setMap(map);	
		}
	
		$("#boton_recorrido").click(function(){
				if($("#pausa").text()=='Pausa'){
					$("#pausa").click();
				}
				$("#dialogo").dialog( 'option', 'buttons', {'Aceptar': function(){$(this).dialog('close');}});
				if(!($("#fecha_desde").val() && $("#fecha_hasta").val())){
					$("#dialogo").html("Debe completar los campos Desde y Hasta");
					$("#dialogo").dialog({ title: 'Campo Vacío' }, 'open');
					return;					
				}
				var fecha_desde = $("#fecha_desde").val().substring(6,10)+$("#fecha_desde").val().substring(2,6)+$("#fecha_desde").val().substring(0,2)+$("#fecha_desde").val().substring(10,17);
				var fecha_hasta = $("#fecha_hasta").val().substring(6,10)+$("#fecha_hasta").val().substring(2,6)+$("#fecha_hasta").val().substring(0,2)+$("#fecha_hasta").val().substring(10,17);
				if((fecha_desde_temp==fecha_desde)&&(fecha_hasta_temp==fecha_hasta)){
					$("#dialogo").html("Para establecer un nuevo recorrido, cambie el valor de las fechas.");
					$("#dialogo").dialog({ title: 'Recorrido Actual' },'open');
					return;
				}
				fecha_desde_temp = fecha_desde;
				fecha_hasta_temp = fecha_hasta;	
				cod_html_alertas=[];
				$("#estado_actual_vehiculo").hide('slow');
				$("#muestra_estado_vehiculo").show('slow');
				$.post("acciones_mq3.php",{accion:"recorrido",fecha_desde:fecha_desde,fecha_hasta:fecha_hasta,imei:vector_imeis[$("#dominios").val()]},function(data){
					data_recorrido=data;					
					switch(data.respuesta){	
						case("SIN_REGISTROS"):
							$("#dialogo").html("No hay registros para ese intervalo de tiempo");
							$("#dialogo").dialog({ title: 'Recorrido' },'open');
						break;
						case("MAL_LAS_FECHAS"):
							$("#dialogo").html("La fecha inicial debe ser menor que la final");
							$("#dialogo").dialog({ title: 'Valores de Fecha' },'open');
						break;
						default:
						ocultar_o_mostrar_marcador("todos",markers_flota,null);
						oculta_recorrido_y_flechas();										
						extremosdepuntos = new google.maps.LatLngBounds( );//Inicializo la variable para tomar nuevos puntos de extremos 
						analiza_recorrido(data_recorrido);
						//ahora uso la matriz alertas para ver que muestro a continuación
						$("#alertas_del_recorrido").html('');
								var cantidad=0;
								for(u in matriz_alertas){
	//alert("Num de codigo: "+u+". Ese codigo significa: "+matriz_alertas[u][0]+" y aparece "+matriz_alertas[u][1].length+" veces en los siguientes indices de los marcadores:"+matriz_alertas[u][1]);	
										$("#alertas_del_recorrido").append("<button id='"+u+"' class='alternomasmenos'>+</button>");
										$("#alertas_del_recorrido").append("<span style='margin-left:40px;'>"+matriz_alertas[u][0]+": "+matriz_alertas[u][1].length+ "</span><span><button id='"+u+"' name='1' class='alternoverocultar'>ver</button></span><br><div id='div_desple_"+u+"'></div>");
										//aquí tengo que mostrar cada caso de cada alarma como dice dentro del span, ahí te necesito porque me pierdo en la matriz
										if(matriz_alertas[u][3].length!=0){
											$("#div_desple_"+u).append("<span style='margin-left:40px;'>"+matriz_alertas[u][2]+": "+matriz_alertas[u][3].length+ "</span><span><button id='"+u+"' name='3' class='alternoverocultar'>ver</button></span><br>");
										}
										if(matriz_alertas[u][5].length!=0){
											$("#div_desple_"+u).append("<span style='margin-left:40px;'>"+matriz_alertas[u][4]+": "+matriz_alertas[u][5].length+ "</span><span><button id='"+u+"' name='5' class='alternoverocultar'>ver</button></span><br>");
										}
										$("#div_desple_"+u).hide();									
								}
								if($("#alertas_del_recorrido").html()==""){
									$("#alertas_del_recorrido").html("No se registraron alertas")
								}else{
									$("#alertas_del_recorrido").prepend("<button id='reestablece_recorrido'>Restablecer</button><br>");
								}
								$("#info_recorrido").show('slow', function() {
									$('button').button();
  								});
								
								$('#reestablece_recorrido').click(function(){
									cod_html_alertas=cod_html_alertas_backup.slice(0);
									$('.alternomasmenos').each(function() {
										$(this).html('<span class="ui-button-text">+</span>');
										$("#div_desple_"+$(this).attr('id')).hide('fast');
										$(".alternoverocultar").show('fast');
									});
									$("#alertas_del_recorrido div button").each(function() {
										$(this).html('<span class="ui-button-text">ver</span>');
									});
									id_alertas_activas=[];
									$("#alertas_del_recorrido button").not("#alertas_del_recorrido div button").not("#reestablece_recorrido").not('.alternomasmenos').each(function() {
											$(this).html('<span class="ui-button-text">ver</span>');																		
											id_alertas_activas= $.merge(id_alertas_activas, matriz_alertas[$(this).attr('id')][$(this).attr('name')]);
											//alert( matriz_alertas[$(this).attr('id')]);
									});		
									for(i in id_alertas_activas){
										contador=0;
										for(j in id_alertas_activas){
											if(id_alertas_activas[i]==id_alertas_activas[j]){
												contador=contador+1;
											}
										}
										markers_recorrido_alertas[id_alertas_activas[i]].set("labelContent",contador);
									}																	
									ocultar_o_mostrar_marcador('todos',markers_recorrido,map);
									establecer_zoom();
									infowindow.close();
									primera_vez=0;
								});
								//utilizo la clase alternomasmenos para no tocar los otros botones de info_recorrido, como ser los botones ver.
								$('.alternoverocultar').click(function(){	
									if(primera_vez==0){
										primera_vez=1;
										ocultar_o_mostrar_marcador("todos",markers_recorrido,null);
									}
									if($(this).text()=='ver'){
										//AQUI SE CAMBIA EL ESTILO DEL BOTON "VER" PARA REMARCAR LAS ALERTAS QUE SE ESTAN VIENDO
										$(this).html('<span class="ui-button-text" style="background:url(css/ui/images/ui-bg_inset-hard_30_f57e00_1x100.png) 50% 50% repeat;">ocultar</span>');
									}else{
										$(this).html('<span class="ui-button-text">ver</span>');
									}
									id_alertas_activas=[];	
									cod_html_alertas=[];								
									$("#alertas_del_recorrido button").each(function(index) {//index va a ser el num de iteración												
										if($(this).text()=="ocultar"){
											var posicion_anterior="nada";
											id_alertas_activas= $.merge(id_alertas_activas, matriz_alertas[$(this).attr('id')][$(this).attr('name')]);

											for(t in matriz_alertas[$(this).attr('id')][$(this).attr('name')]){
												var posicion = matriz_alertas[$(this).attr('id')][$(this).attr('name')][t];
												if(posicion_anterior!=posicion){
																																			
													for (j=0;j<data_recorrido.tipo_alarma[posicion].length && data_recorrido.nombre_alerta[posicion]!='';j++){//vamos a recorrer todas las alertas de esta posicion.																											
														if($(this).attr('id')==data_recorrido.tipo_alarma[posicion][j]){//Si el codigo es igual al que dice el boton ver...
															if(data_recorrido.caso_alerta[posicion][j] && ((data_recorrido.estado_sensor[posicion][j]==1 && $(this).attr('name')==3)||(data_recorrido.estado_sensor[posicion][j]==0 && $(this).attr('name')==5)||$(this).attr('name')==1)){//Como caso_alerta es algo, entonces tiene sentido evaluar el estado_sensor. El estado sensor=1 es cuando attr('name')=3
																if(cod_html_alertas[posicion]){
																	cod_html_alertas[posicion] = cod_html_alertas[posicion]+"<br>";
																}else{
																	cod_html_alertas[posicion] = "";
																}
																cod_html_alertas[posicion] = cod_html_alertas[posicion]+data_recorrido.nombre_alerta[posicion][j]+": "+data_recorrido.caso_alerta[posicion][j]+". Hora: "+data_recorrido.hora_alerta[posicion][j];	
															}else{
																if((data_recorrido.estado_sensor[posicion][j]==1 && $(this).attr('name')==3) ||(data_recorrido.estado_sensor[posicion][j]==0 && $(this).attr('name')==5)||$(this).attr('name')==1){
																	if(cod_html_alertas[posicion]){
																		cod_html_alertas[posicion] = cod_html_alertas[posicion]+"<br>";
																	}else{
																		cod_html_alertas[posicion] = "";
																	}
																	cod_html_alertas[posicion]=cod_html_alertas[posicion]+data.nombre_alerta[posicion][j]+". Hora: "+data.hora_alerta[posicion][j];
																}
															}
														}
													}
												}
												posicion_anterior=posicion;													
											}
											//cod_html_alertas[$(this).attr('id')]=matriz_alertas[$(this).attr('id')][$(this).attr('name')];
											//data_recorrido.nombre_alerta[i][j]+": "+data_recorrido.caso_alerta[i][j]+". Hora: "+data_recorrido.hora_alerta[i][j];
										}
									});
									for(i in id_alertas_activas){
										contador=0;
										for(j in id_alertas_activas){
											if(id_alertas_activas[i]==id_alertas_activas[j]){
												contador=contador+1;
											}
										}
										markers_recorrido_alertas[id_alertas_activas[i]].set("labelContent",contador);
									}																												
									if($(this).text()=='ver'){//Si el boton clickeado está en ver es porque quise ocultar los marcadores correspondientes a ESE botón
										ocultar_o_mostrar_marcador(matriz_alertas[$(this).attr('id')][$(this).attr('name')],markers_recorrido_alertas,null);
									}
									ocultar_o_mostrar_marcador(id_alertas_activas,markers_recorrido_alertas,map);
									infowindow.close()																		
								});		
								$('.alternomasmenos').click(function(){
									if($(this).text()=='+'){
										$(this).html('<span class="ui-button-text">-</span>');		
										$("#div_desple_"+$(this).attr('id')).show('fast');
										if($(this).next().next().text()!="ver"){//si se esta mostrando la categoria entera
											$(this).next().next().click();
											$("#div_desple_"+$(this).attr('id')+" button").click();
										}
										$(this).next().next().hide();
									}else{
										$(this).html('<span class="ui-button-text">+</span>');
										$("#div_desple_"+$(this).attr('id')+" button").each(function(){
											if($(this).text()=='ocultar'){
												$(this).click();
											}															 
										});
										//aqui tengo que identificar cada boton del div ese para interactual con dicho boton si es que el texto es igual a ocultar
										$("#div_desple_"+$(this).attr('id')).hide('fast');
										$(this).next().next().css("display", "inline");
										$(this).next().click();
									}
								}); 	 		
							break;
					}
				},"json");					
		});
		
		/*var clusters_flota = new MarkerClusterer(map, []);
		var clusters_flota_contorno = new MarkerClusterer(map, []);
		var clusters_flota_escudo = new MarkerClusterer(map, []);*/
		
	function actualiza(){
		markers_flota = [];
		markers_flota_contorno = [];
		markers_flota_escudo = [];
		markers_recorrido = [];		
		markers_recorrido_alertas = [];
		vector_cuenta_km = [];
		flecha =[];		
		vector_sin_bat=[];
		vector_sin_reporte=[];
		vector_con_reporte=[];
		vector_movimiento=[];
		vector_reposo=[];
		vector_encendidos=[];
		vector_apagados=[];
		vector_sin_gps=[];
		vector_estado_panico=[];
		vector_baja_bat=[];
		vector_total_detenidos=[];	
		vector_cod_html = [];
		vector_datos_vehiculo = [];
		vector_numero_chip=[];
		$("#numero_chip").html("");
		$( "#grupo" ).selectmenu()
			.selectmenu( "menuWidget" )
			.addClass( "overflow_select" );
		//Traigo los puntos de cada auto y agrego los marcadores correspondientes
		$.post("acciones_mq3.php",{accion:"buscapuntos",id_cliente:id_cliente},function(data){
			data_flota=data;
			$("#grupo").html('<option value="0" selected="selected">Grupo</option>');
			$( "#grupo" ).selectmenu('up');
			analiza_flota(data_flota);
			$("#hora_update").html("Actualización de pantalla: "+data_flota.hora_update);	
			if(data.vector_id_grupo[0]){	
				for(i=0;i<data.vector_id_grupo.length;i++){
					$("#grupo").append('<option value="'+data.vector_id_grupo[i]+'">'+data.vector_nombre_grupo[i]+'</option>');	
				}
				$("#label_grupo").show();
			}else{
				$("#grupo").selectmenu('destroy');
				$("#grupo").toggle();
			}
		},"json");
		$("#hora_update").show('slow');
		$("#todos_grupo").hide();
	}
	$("#tiempo_min_detencion").selectmenu({
		change: function() {
			if(data_recorrido){
				var fecha_desde = $("#fecha_desde").val().substring(6,10)+$("#fecha_desde").val().substring(2,6)+$("#fecha_desde").val().substring(0,2)+$("#fecha_desde").val().substring(10,17);
				var fecha_hasta = $("#fecha_hasta").val().substring(6,10)+$("#fecha_hasta").val().substring(2,6)+$("#fecha_hasta").val().substring(0,2)+$("#fecha_hasta").val().substring(10,17);
				if((fecha_desde_temp==fecha_desde) && (fecha_hasta_temp==fecha_hasta)){
					ocultar_o_mostrar_marcador("todos",markers_flota,null);
					analiza_recorrido(data_recorrido);
				}
			}
		}
	});
	/*$("#tiempo_min_detencion").change(function(){ COMENTADO PORQUE NO FUNCIONA, ARRIBA ESTA COMO FUNCIONA!!
		if(data_recorrido){
			var fecha_desde = $("#fecha_desde").val().substring(6,10)+$("#fecha_desde").val().substring(2,6)+$("#fecha_desde").val().substring(0,2)+$("#fecha_desde").val().substring(10,17);
			var fecha_hasta = $("#fecha_hasta").val().substring(6,10)+$("#fecha_hasta").val().substring(2,6)+$("#fecha_hasta").val().substring(0,2)+$("#fecha_hasta").val().substring(10,17);
			if((fecha_desde_temp==fecha_desde) && (fecha_hasta_temp==fecha_hasta)){
				ocultar_o_mostrar_marcador("todos",markers_flota,null);
				analiza_recorrido(data_recorrido);
			}
		}
	});*/
	
	$("#elementos_del_recorrido").hide();
	$("#boton_mapa").hide();
	$("#info_vehiculo_seleccionado").hide();
	actualiza();
	
	$("#grupo").selectmenu({
		change: function() {
			ocultar_o_mostrar_marcador("todos",markers_flota,null);
			ocultar_o_mostrar_marcador("todos",markers_recorrido,null);
			oculta_recorrido_y_flechas();
			/*clusters_flota.clearMarkers();
			clusters_flota_contorno.clearMarkers();
			clusters_flota_escudo.clearMarkers();*/
			markers_flota = [];
			markers_flota_contorno = [];
			markers_flota_escudo = [];
			markers_recorrido = [];		
			markers_recorrido_alertas = [];
			vector_cuenta_km = [];
			flecha =[];		
			vector_sin_bat=[];
			vector_sin_reporte=[];
			vector_con_reporte=[];
			vector_movimiento=[];
			vector_reposo=[];
			vector_encendidos=[];
			vector_apagados=[];
			vector_sin_gps=[];
			vector_estado_panico=[];
			vector_baja_bat=[];
			vector_total_detenidos=[];	
			vector_cod_html = [];
			vector_datos_vehiculo = [];
			vector_numero_chip=[];			
			vector_direcciones=[];			
			analiza_flota(data_flota);
			if($("#grupo").val()!=0){
				$("#grupo option[value='0']").remove();	
			}
			$("#todos_grupo").hide();
			$("#info_vehiculo_seleccionado").hide('slow');
			$("#elementos_del_recorrido").hide('slow');
			$("#info_recorrido").hide('slow');
			$("#hora_update").show('slow');
			$("#alertas_flota").show('slow');
			$("#info_flota").show('slow');
			if(data_flota.vector_id_grupo[0]){
				$('#grupo').selectmenu('refresh');
				grupo_anterior=$("#grupo").val();
			}	
			$("#todos_flota").css("display","inline-block");
			if($("#contenedor_referencia").css("display")!="none"){$("#referencia").click();};
			$('#dominios').selectmenu('refresh');
			$('#dominios').selectmenu('up');
		}
	});
	
	$("#dominios").selectmenu({
		change: function() {
			/*clusters_flota.clearMarkers();
			clusters_flota_contorno.clearMarkers();
			clusters_flota_escudo.clearMarkers();*/
			data_recorrido = "";
			fecha_desde_temp = "";
			fecha_hasta_temp = "";
			$('#fecha_desde').datetimepicker('setDate', (new Date('','','',0,0,0)) ); //Las 4 lineas siguientes son para inicializar el calendario
			$('#fecha_desde').datetimepicker('setDate', (null) );
			$('#fecha_hasta').datetimepicker('setDate', (new Date('','','',0,0,0)) );
			$('#fecha_hasta').datetimepicker('setDate', (null) );		
			if(!vector_direcciones[$("#dominios").val()]){
			  geocoder.geocode({'latLng': markers_flota[$("#dominios").val()].getPosition()}, function(results, status) {
				//alert(vector_direcciones[$("#dominios").val()]);
				if (status == google.maps.GeocoderStatus.OK && !vector_direcciones[$("#dominios").val()]) {
				  if (results[0]) { 
					//alert( results[1].formatted_address);
					//alert( results[0].formatted_address);
					vector_direcciones[$("#dominios").val()]="Dirección: "+results[0].formatted_address+"<br>";
					vector_cod_html[$("#dominios").val()]=vector_direcciones[$("#dominios").val()]+vector_cod_html[$("#dominios").val()];
					$("#estado_actual_vehiculo").html(vector_cod_html[$("#dominios").val()]);
				  } else {
					$("#dialogo").html("No results found");
					$("#dialogo").dialog({ title: 'Google' },'open');
				  }
				} else {
					if (status != google.maps.GeocoderStatus.OK){	
						$("#dialogo").html("Geocoder failed due to: " + status);
						$("#dialogo").dialog({ title: 'Google' },'open');
					}
				}	  
			  });
			}else{
				$("#estado_actual_vehiculo").html(vector_cod_html[$("#dominios").val()]);
			}
			ocultar_o_mostrar_marcador("todos",markers_flota,null);
			ocultar_o_mostrar_marcador("todos",markers_recorrido,null);
			oculta_recorrido_y_flechas();
			$("#datos_vehiculo").html(vector_datos_vehiculo[$("#dominios").val()]);
			$("#numero_chip").html(vector_numero_chip[$("#dominios").val()]);
			$("#dominios option[value='NADA']").remove();
			$("#alertas_flota").hide('slow');
			$("#info_flota").hide('slow');
			$("#info_recorrido").hide('slow');
			$("#hora_update").hide('slow');
			$("#info_vehiculo_seleccionado").hide(function() {
				$('button').button();			
			});
			$("#info_vehiculo_seleccionado").show('slow', function() {
				$('button').button();			
			});
			$("#muestra_estado_vehiculo").hide();
			//$("#estado_actual_vehiculo").show('slow');
			if($("#grupo").val()!=0){
				$("#todos_grupo").css('display', 'inline-block');
			}
			analiza_flota(data_flota);
			$('#dominios').selectmenu('refresh');
			establecer_zoom();
			
			$("#contenedor_explica_buffer").css("background", "rgba(0,0,0,0)");	
			$("#estado_actual_vehiculo").hide('slow',function(){$("#contenedor_explica_buffer").css("background", "rgba(0,0,0,0)")});//agregada para que funcione el cambio del background en la explicación de la descarga de buffer
			$("#estado_actual_vehiculo").show('slow');
			if($("#contenedor_referencia").css("display")!="none"){$("#referencia").click();};
			$("#elementos_del_recorrido").show('slow');
			$("#todos_flota").css("display","inline-block");
//AGREGADO PARA CALCULAR DISTANCIA DESDE EL VEHÍCULO SELECCIONADO A UN PUNTO QUE ELIJA EL CLIENTE//
			google.maps.event.addListener(map,'rightclick', function(e) {	
				latlong_destino=e.latLng;
				placeMarkerAndPanTo(e.latLng, map);
			});	
			function placeMarkerAndPanTo(latLng, map) {//FUNCION QUE AGREGA MARCADOR EN MAPA PARA EL CALCULO DE LA DISTANCIA DESDE EL VEHICULO HASTA EL MARCADOR AGREGADO
				marker_distancia.setMap(null);
				  marker_distancia = new google.maps.Marker({
					position: latLng,
					map: map
				});
				
				var array_destino = new Array();
				array_destino = String(latlong_destino).split(",");
				array_destino[0] = array_destino[0].replace('(','');
				array_destino[1] = array_destino[1].replace(')','');

				var origen = new google.maps.LatLng(markers_flota[$("#dominios").val()].getPosition().lat(), markers_flota[$("#dominios").val()].getPosition().lng());
				var destino = new google.maps.LatLng(array_destino[0], array_destino[1]);//
				var service = new google.maps.DistanceMatrixService();
				var ventana = new google.maps.InfoWindow({
        		});
				service.getDistanceMatrix(
				  {
					origins: [origen],
					destinations: [destino],
					travelMode: 'DRIVING',
					unitSystem: google.maps.UnitSystem.METRIC,
					avoidHighways: false,
					avoidTolls: false,
				  }, callback);
				
				function callback(response, status) {
				  // See Parsing the Results for
				  // the basics of a callback function.
				  if (status == 'OK') {
					var origins = response.originAddresses;
					var destinations = response.destinationAddresses;
				
					for (var i = 0; i < origins.length; i++) {
					  var results = response.rows[i].elements;
					  for (var j = 0; j < results.length; j++) {
						var element = results[j];
						var distance = element.distance.text;
						var duration = element.duration.text;
						var from = origins[i];
						var to = destinations[j];
						//alert(results[j].distance.text + " - " + results[j].duration.text);
						ventana.setContent("Distancia aproximada: " + results[j].distance.text + "<br> Tiempo de llegada estimado: " + results[j].duration.text);
						ventana.open(map, marker_distancia);	
					  }
					}
				  }
				}  
				 //map.panTo(latLng);
				 //extremosdepuntos.extend(latLng);
				 //establecer_zoom();
			}
							
			/*map.addListener('rightclick', function(e) {
				placeMarkerAndPanTo(e.latLng, map);
				latlong_destino=e.latLng;
			});		*/	
			//infowindow.open(map,marker_distancia);
			//FIN DE AGREGADO PARA CALCULAR DISTANCIA
		}
	});	

/*ESTO ES PARA MARKERCLUSTERER	REEMPLAZA AL VER DEL FILTRO DE VEHICULOS APAGADOS
	$('#total_apagados').click(function(){
		ocultar_o_mostrar_marcador("todos",markers_flota,null);
		clusters_flota.clearMarkers();
		clusters_flota_contorno.clearMarkers();
		clusters_flota_escudo.clearMarkers(); 
		//Todavia falta aceitarlo y mostraría clusters en los ver de encendidos, apagados, etc!!
		var markers_temporal = markers_flota;
		var markers_temporal_contorno = markers_flota_contorno;
		var markers_temporal_escudo = markers_flota_escudo;
		for(i in markers_temporal){
			if(i!=vector_apagados[i]){
				markers_temporal.splice(i,1);
			}
		}
		for(i in markers_temporal_contorno){
			if(i!=vector_apagados[i]){
				markers_temporal_contorno.splice(i,1);
			}
		}	
		for(i in markers_temporal_escudo){
			if(i!=vector_apagados[i]){
				markers_temporal_escudo.splice(i,1);
			}
		}
		alert(markers_temporal.length);			
		clusters_flota = new MarkerClusterer(map, markers_temporal);
		clusters_flota_contorno = new MarkerClusterer(map, markers_temporal_contorno);
		clusters_flota_escudo = new MarkerClusterer(map, markers_temporal_escudo);
		ocultar_o_mostrar_marcador(vector_apagados,markers_flota,map); 
		establecer_zoom();
	});*/
	if($("#contenedor_referencia").css("display")!="none"){$("#referencia").click();};
	if(id_cliente!=19 && id_cliente!=27 && id_cliente!=112 && id_cliente!=155){$("#acceso_multiple").hide();}
	if(id_cliente==112 || id_cliente==214 || id_cliente==215){$("#vector_con_reporte").show();}
	//MENSAJES PENDIENTES PARA EL CLIENTE
	$.post("acciones_mq3.php",{accion:"mensajes",id_cliente:id_cliente},function(respuesta){
		//alert(respuesta.mensaje);
		if(respuesta.mensaje[0]!=""){//aquí preguntaríamos si el cliente tiene mensajes pendientes, de ser así se llama a la funcion de mensajes y luego el cliente al hacer click en aceptar, deja de estar pendiente, temporal o definitivamiente según sea el caso.
			respuesta_global=respuesta;
			//alert(respuesta.mensaje);
			$('#ventana_auxiliar').load('mensaje_al_cliente.php', function(){
				$('#fondo_negro').show();$('#ventana_auxiliar').show();
			});
		}		
	},"json");
	//quito del menú la opción "Abono Mensual" para los que no tienen que tener esa opción ya sea por restricción web a pedido del cliente o por restricción nuestra
	$.post("acciones_informes.php",{accion:"restricciones",id_cliente:id_cliente},function(fx){
		if(fx.restriccion=="no_muestro_menu_abono"){
			$("#abono").parent().remove();
		}	
	},"json");

});
 </script><script type="text/javascript" charset="UTF-8" src="./mobileQuest_files/common.js" style="box-sizing: unset;"></script><script type="text/javascript" charset="UTF-8" src="./mobileQuest_files/util.js" style="box-sizing: unset;"></script><script type="text/javascript" charset="UTF-8" src="./mobileQuest_files/geocoder.js" style="box-sizing: unset;"></script><script type="text/javascript" charset="UTF-8" src="./mobileQuest_files/map.js" style="box-sizing: unset;"></script><script type="text/javascript" charset="UTF-8" src="./mobileQuest_files/geometry.js" style="box-sizing: unset;"></script><script type="text/javascript" charset="UTF-8" src="./mobileQuest_files/poly.js" style="box-sizing: unset;"></script><script type="text/javascript" charset="UTF-8" src="./mobileQuest_files/marker.js" style="box-sizing: unset;"></script>

<script type="text/javascript" charset="UTF-8" src="./mobileQuest_files/infowindow.js" style="box-sizing: unset;"></script><style type="text/css" style="box-sizing: unset;">.gm-style {
        font: 400 11px Roboto, Arial, sans-serif;
        text-decoration: none;
      }
      .gm-style img { max-width: none; }</style><script type="text/javascript" charset="UTF-8" src="./mobileQuest_files/onion.js" style="box-sizing: unset;"></script><script type="text/javascript" charset="UTF-8" src="./mobileQuest_files/overlay.js" style="box-sizing: unset;"></script><script type="text/javascript" charset="UTF-8" src="./mobileQuest_files/controls.js" style="box-sizing: unset;"></script><script type="text/javascript" charset="UTF-8" src="./mobileQuest_files/stats.js" style="box-sizing: unset;"></script></head>
<body style="box-sizing: unset;">  
	<div id="fondo_negro" class="overlay" style="display: none; box-sizing: unset;"></div>        
        <div id="ventana_auxiliar" class="contenedor_flotante" style="display: none; box-sizing: unset;">



<title>: informe de kilometraje recorrido.</title>
<style type="text/css" media="screen">	
/*
* Override styles needed due to the mix of three different CSS sources! For proper examples
* please see the themes example in the 'Examples' section of this site
*/
.dataTables_info { padding-top: 0; }
.dataTables_paginate { padding-top: 8px; padding-right:10px;}
.css_right { float: right; }
#example_wrapper .fg-toolbar { font-size: 0.8em }
#theme_links span { float: left; padding: 2px 10px;}
#titulo{
	width:100%;
	height:30px;
	background-color:#000000;
	color:#E67817;
	font-family: sans-serif;
	font-size: 1.4em;	
	font-weight: bold;
	text-align:center;
	padding-top:5px;
}
#barra_de_herramientas{
	width:350px;
	min-height:400px;
	left:0;
	top:40px;
	float:left;
	background-color:#000000;
	padding:10px;
	overflow:auto;
	/*border-bottom: 2px solid #CCC;*/	
}
#area_reporte{
	left:370px;
	position:absolute;
	/*min-width:1100px;*/
}
.etiqueta{
	float:left;
	color:#FFF;
	font-family: sans-serif;
	font-size: 0.9em;	
	font-weight: bold;
}
.filtros{
	visibility:hidden;
}

</style>
<!--Las siguientes 2 líneas son para informes>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/t/dt/jszip-2.5.0,pdfmake-0.1.18,dt-1.10.11,b-1.1.2,b-colvis-1.1.2,b-flash-1.1.2,b-html5-1.1.2,b-print-1.1.2,cr-1.3.1/datatables.min.css"/>
<script type="text/javascript" src="https://cdn.datatables.net/t/dt/jszip-2.5.0,pdfmake-0.1.18,dt-1.10.11,b-1.1.2,b-colvis-1.1.2,b-flash-1.1.2,b-html5-1.1.2,b-print-1.1.2,cr-1.3.1/datatables.min.js" async="async"></script>-->

<link rel="stylesheet" type="text/css" href="./mobileQuest_files/datatables.min.css">
 
<script type="text/javascript" src="./mobileQuest_files/datatables.min.js"></script>




<!--<link rel='stylesheet' href="css/demo_table.css">
<script src="Scripts/jquery.dataTables.min.js" type="text/javascript"></script>-->

<script src="./mobileQuest_files/ui.multiselect.1-14.js" type="text/javascript"></script>
<script src="./mobileQuest_files/ui.multiselect.filter.1-5.js" type="text/javascript"></script>
<link rel="Stylesheet" href="./mobileQuest_files/multiselect.css" type="text/css">
<link rel="Stylesheet" href="./mobileQuest_files/multiselect.filter.css" type="text/css">
<!--<link rel="stylesheet" href="css/radio.css"> esto hace que se corra el boton actualizar-->
<script type="text/javascript" charset="utf-8">
var vect_imeis=[];
var vect_dias=[];
var vect_zonas=[];
var fecha_desde_informes="";
var fecha_hasta_informes="";
var zonas_control=0;
	$(document).ready(function() {
		var data_ie;
		var alto = ($(window).height() * 0.8)-55;
		$("#barra_de_herramientas").css("height",alto);
		$('#cerrar').button();
		$('#barra_de_herramientas button').button();
		$("#radio").buttonset();
		$('#fecha_desde_informes').datetimepicker();
		$('#fecha_hasta_informes').datetimepicker();
		$('#hora_desde').timepicker({});
		$('#hora_hasta').timepicker({});
		$( "#agrupar" ).selectmenu()
		  .selectmenu( "menuWidget" )
		  .addClass( "overflow_select" );
		$('#filtros').click(function(){
			if($('#filtros').is(':checked')){
				$('.filtros').css('visibility','visible');
			}else{
				$('.filtros').css('visibility','hidden');
			}	
		});
		$('#nada').click(function(){								
			//alert($("#switch_zonas input:checked").val());
/*			$.post("acciones_informes.php",{accion:"kilometraje", vehiculos:vect_imeis, fecha_desde:fecha_desde_informes, fecha_hasta:fecha_hasta_informes,agrupar:$('#agrupar').val(),hora_desde:$("#hora_desde").val(), hora_hasta:$("#hora_hasta").val(),zonas:vect_zonas,switch_zonas:$("#switch_zonas input:checked").val(),excluir_dias_semana:vect_dias}, function(dataa){
				alert(dataa);
			});*/
			alert("IMEIS: "+vect_imeis+". DIAS:"+vect_dias+" ZONAS: "+	vect_zonas);
		});		
		$('#cerrar').click(function(){								
			$("#ventana_auxiliar").hide();
			$("#fondo_negro").hide();
		});	
		$.post("acciones_informes.php",{accion:"lista_zonas",id_cliente:id_cliente},function(data){
			for(i in data.id_zonas){
				$("#zonas").append('<option value="'+data.id_zonas[i]+'">'+data.nombre_zona[i]+'</option>');	
				zonas_control=zonas_control+1;			
			}
			$("#zonas").multiselect({
				noneSelectedText: 'Seleccione las zonas',
				selectedList: 3,
				checkAllText: "tildar",
				uncheckAllText: "destildar"			
			}).multiselectfilter();
		},"json");
		
		$("#dias_semana").multiselect({
			  noneSelectedText: 'Seleccione los días a incluir',
			  selectedList: 3,
			  height: 190,
			  checkAllText: "tildar",
			  uncheckAllText: "destildar"			
		});/**/
		$("#dominios option").each(function(i){
			if($(this).val()!="NADA"){
				$("#vehiculos").append('<option value="'+$(this).val()+'">'+$(this).text()+'</option>');
			}
		});/**/
		$("#vehiculos").multiselect({
			  noneSelectedText: 'Seleccione el/los vehiculos para el informe',
			  selectedList: 3,
			  checkAllText: "tildar",
			  uncheckAllText: "destildar"
		}).multiselectfilter();
		
		//control para que no falle cuando hay un solo elemento en el select
		$("#vehiculos").change(function(){
			if(vector_imeis.length===1){
				i=0;
				$("#vehiculos option:selected").each(function(){					
					i=i+1;
				});
				$("#vehiculos").multiselect("refresh");	
			}
		});	
		//control para que no falle cuando hay un solo elemento en el select
		$("#zonas").change(function(){
			if(zonas_control===1){
				i=0;
				$("#zonas option:selected").each(function(){					
					i=i+1;
				});
				$("#zonas").multiselect("refresh");	
			}
		});		
		$('#informe').click(function(){
			vect_imeis=[];
			vect_zonas=[];
			vect_dias=[];
			$("#vehiculos option:selected").each(function(indice){					
				vect_imeis[indice]=vector_imeis[$(this).val()];
			});
			$("#zonas option:selected").each(function(indice){					
				vect_zonas[indice]=$(this).val();
			});			
			$("#dias_semana option:selected").each(function(indice){					
				vect_dias[indice]=$(this).val();
			});				
			fecha_desde_informes = $("#fecha_desde_informes").val().substring(6,10)+$("#fecha_desde_informes").val().substring(2,6)+$("#fecha_desde_informes").val().substring(0,2)+$("#fecha_desde_informes").val().substring(10,17);
			fecha_hasta_informes = $("#fecha_hasta_informes").val().substring(6,10)+$("#fecha_hasta_informes").val().substring(2,6)+$("#fecha_hasta_informes").val().substring(0,2)+$("#fecha_hasta_informes").val().substring(10,17);
 			//$.post("acciones_informes.php",{accion:"kilometraje", vehiculos:vect_imeis, fecha_desde:fecha_desde_informes, fecha_hasta:fecha_hasta_informes,agrupar:$('#agrupar').val(), excluir_dias_semana:vect_dias, hora_desde:$("#hora_desde").val(), hora_hasta:$("#hora_hasta").val(), switch_zonas:$("#switch_zonas input:checked").val(),zonas:vect_zonas}, function(data){
				var filtro = 0;
				if ($('#filtros').is(":checked"))
				{
					filtro = 1;
				}
				$.post("acciones_informes.php",{accion:"recorrido_historico", vehiculos:vect_imeis, fecha_desde:fecha_desde_informes, fecha_hasta:fecha_hasta_informes,filtros:filtro,hora_desde:$("#hora_desde").val(), hora_hasta:$("#hora_hasta").val(),zonas:vect_zonas,switch_zonas:$("#switch_zonas input:checked").val(),excluir_dias_semana:vect_dias}, function(data){				

				if($("#tablita").html()!=''){
					$("#tablita").dataTable().fnDestroy();
					$("#tablita").html("");				
				}
				
				$('#tablita').dataTable({
					"aaData": $.parseJSON(data),
					//"bJQueryUI": true,
					"dom": 'Bfrtip',
					"sPaginationType": "full_numbers", //pone los números de página al final de la tabla.
					"bProcessing": true,
					"bDestroy": true,
					"aoColumnDefs": [ {
						"sClass": "center",
						"aTargets": [ 0, 1, 2,3,4,5 ],
					} ],
					"buttons": [
           			'excel', 'pdf', 'print'
        			],
					"oLanguage": {
						"sProcessing":   "Procesando...",
						"sLengthMenu":   "Mostrar _MENU_ registros",
						"sZeroRecords":  "No se encontraron resultados",
						"sInfo":         "Mostrando desde _START_ hasta _END_ de _TOTAL_ registros",
						"sInfoEmpty":    "Mostrando desde 0 hasta 0 de 0 registros",
						"sInfoFiltered": "(filtrado de _MAX_ registros en total)",
						"sInfoPostFix":  "",
						"sSearch":       "Buscar:",
						"sUrl":          "",
						"oPaginate": {
							"sFirst":    "Primero",
							"sPrevious": "Anterior",
							"sNext":     "Siguiente",
							"sLast":     "Último"
						}
					},
					"aoColumns": [ 
						{"sName": "Dominio", "sTitle": "Dominio", "sWidth": "10%"},
						{"sName": "Evento", "sTitle": "Kilometraje", "sWidth": "45%"},
						{"sName": "Fecha", "sTitle": "Fecha", "sWidth": "15%"},
						{"sName": "Velocidad", "sTitle": "Velocidad", "sWidth": "5%"},
						{"sName": "Coordenadas", "sTitle": "Coordenadas", "sWidth": "5%"},
						{"sName": "Link", "sTitle": "Link", "sWidth": "20%"}
					]
				});				
			});
		});

	});
</script>


	<div id="titulo">Recorrido histórico detallado</div>
    <button id="cerrar" class="boton_cierra_ventana_flotante ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">X</span></button>
	<div id="barra_de_herramientas" style="height: 445px;">
        <div id="radio" style="display:none" class="ui-buttonset">
            <input type="radio" id="radio1" name="radio" checked="checked" class="ui-helper-hidden-accessible"><label for="radio1" class="ui-state-active ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left" role="button" aria-disabled="false"><span class="ui-button-text">Normal</span></label>
            <input type="radio" id="radio2" name="radio" class="ui-helper-hidden-accessible"><label for="radio2" class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right" role="button" aria-disabled="false"><span class="ui-button-text">Sensor</span></label>
        </div>
		<div style="display:inline-block; margin-top:15px;">
            <label class="etiqueta" style="margin-top:7px; margin-right:10px;">Vehículos: </label>
            <select id="vehiculos" multiple="multiple" style="display: none;">
            <option value="0" aria-selected="true">Test 1</option><option value="1" aria-selected="true">Test 2</option><option value="2" aria-selected="true">Test 4</option><option value="3" aria-selected="true">Test 5</option></select><button type="button" class="ui-multiselect ui-widget ui-state-default ui-corner-all ui-button ui-button-text-only" aria-haspopup="true" style="width: 225px;" role="button" aria-disabled="false"><span class="ui-button-text"><span class="ui-icon ui-icon-triangle-2-n-s"></span><span>4 selected</span></span></button>
        </div>
    	<div style="float:left; display:inline-block; margin-top:10px;">
        	<label class="etiqueta">Rango: </label>
            <div id="desde" style=" float: left; margin-left:20px; border: 2px solid  #999; width:100px; padding:5px; padding-right:10px;">
            <label style="display:block; margin-left:28px; color:#FFF">Desde</label>
            <input name="fecha_desde_informes" type="text" id="fecha_desde_informes" size="17" style="width:100px; margin-top:5px;" class="hasDatepicker">
            </div>
            
            <div id="hasta" style=" float: right; width:100px; padding:5px; border: 2px solid #999; margin-left:2px; padding-right:10px;">
            <label style="display:block; margin-left:30px; color:#FFF">Hasta</label>
            <input name="fecha_hasta_informes" type="text" id="fecha_hasta_informes" size="17" style="width:100px; margin-top:5px;" class="hasDatepicker">    
            </div>
        </div>

        <div style="display:inline-block; margin-top:10px;">
        	<label class="etiqueta">Agregar filtros: </label>
        	<input id="filtros" type="checkbox" value="">
        </div>
        <div class="filtros" style="display:none; margin-top:10px;"> 
          <label class="etiqueta" style="margin-top:7px; margin-right:10px;">Días: </label>
          <select id="dias_semana" multiple="multiple" style="display: none;">
              <option value="1">Domingo</option>
              <option value="2">Lunes</option>
              <option value="3">Martes</option>
              <option value="4">Miércoles</option>
              <option value="5">Jueves</option>
              <option value="6">Viernes</option>
              <option value="7">Sábado</option>
          </select><button type="button" class="ui-multiselect ui-widget ui-state-default ui-corner-all ui-button ui-button-text-only" aria-haspopup="true" style="width: 225px;" role="button" aria-disabled="false"><span class="ui-button-text"><span class="ui-icon ui-icon-triangle-2-n-s"></span><span>Seleccione los días a incluir</span></span></button>
        </div>
    	<div class="filtros" style="float:left; display:inline-block; margin-top:10px;">
        	<label class="etiqueta">Horario: </label>
            <div style=" float: left; margin-left:20px; border: 2px solid  #999; width:50px; padding:5px; padding-right:10px;">
            <label style="display:block; margin-left:8px; color:#FFF">Desde</label>
            <input name="hora_desde" type="text" id="hora_desde" size="5" style="width:50px; margin-top:5px;" class="hasDatepicker">
            </div>
            
            <div style=" float: right; margin-right:100px; width:50px; padding:5px; border: 2px solid #999; margin-left:2px; padding-right:10px;">
            <label style="display:block; margin-left:8px; color:#FFF">Hasta</label>
            <input name="hora_hasta" type="text" id="hora_hasta" size="5" style="width:50px; margin-top:5px;" class="hasDatepicker">    
            </div>
        </div>
        <!--ESTO QUEDA COMENTADO HASTA RESOLVER COMO HACER CON LOS ESTADOS EN LAS ZONAS
        <div class="filtros">
            <label class="etiqueta" style="margin-top:10px;">Zonas: </label>
            <div  id="switch_zonas" class="filtros" style="border: 2px solid #999; display:inline-block; width:230px; padding:5px; margin-left:20px; margin-top:10px;">
                <label style="color:#FFF">solo en</label>
                <input type="radio" name="RadioGroup1" value="1" id="RadioGroup1_0" />
                <label style="color:#FFF">excluir</label>
                <input name="RadioGroup1" type="radio" id="RadioGroup1_1" value="0" checked="checked" />
                <select id="zonas" multiple="multiple">
                </select>
            </div>
        </div>
        -->
        <br>
      <div style="display:inline-block; margin-left:140px; margin-top:30px;"><button id="informe" style="position:relative;" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Generar</span></button></div>
      <br><div style="display:inline-block;"><button id="nada" style="visibility:hidden" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">nada</span></button></div>
    </div>
    <div id="area_reporte">
   		<div id="tablita_wrapper" class="dataTables_wrapper no-footer"><div class="dt-buttons"><a class="dt-button buttons-excel buttons-html5" tabindex="0" aria-controls="tablita" href="http://mobilequest.com.ar/seguimiento2.php#"><span>Excel</span></a><a class="dt-button buttons-pdf buttons-html5" tabindex="0" aria-controls="tablita" href="http://mobilequest.com.ar/seguimiento2.php#"><span>PDF</span></a><a class="dt-button buttons-print" tabindex="0" aria-controls="tablita" href="http://mobilequest.com.ar/seguimiento2.php#"><span>Print</span></a></div><div id="tablita_filter" class="dataTables_filter"><label>Buscar:<input type="search" class="" placeholder="" aria-controls="tablita"></label></div><div id="tablita_processing" class="dataTables_processing" style="display: none;">Procesando...</div><table cellpadding="0" cellspacing="0" border="0" class="display dataTable no-footer" id="tablita" role="grid" aria-describedby="tablita_info" style="width: 737px;"><thead><tr role="row"><th class="center sorting_asc" tabindex="0" aria-controls="tablita" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Dominio: activate to sort column descending" style="width: 60px;">Dominio</th><th class="center sorting" tabindex="0" aria-controls="tablita" rowspan="1" colspan="1" aria-label="Kilometraje: activate to sort column ascending" style="width: 85px;">Kilometraje</th><th class="center sorting" tabindex="0" aria-controls="tablita" rowspan="1" colspan="1" aria-label="Fecha: activate to sort column ascending" style="width: 58px;">Fecha</th><th class="center sorting" tabindex="0" aria-controls="tablita" rowspan="1" colspan="1" aria-label="Velocidad: activate to sort column ascending" style="width: 68px;">Velocidad</th><th class="center sorting" tabindex="0" aria-controls="tablita" rowspan="1" colspan="1" aria-label="Coordenadas: activate to sort column ascending" style="width: 103px;">Coordenadas</th><th class="center sorting" tabindex="0" aria-controls="tablita" rowspan="1" colspan="1" aria-label="Link: activate to sort column ascending" style="width: 147px;">Link</th></tr></thead><tbody><tr role="row" class="odd"><td class="center sorting_1">AA 663 BN</td><td class=" center">Estado del motor: Encendido</td><td class=" center">11/09/2018  06:58:24</td><td class=" center">0</td><td class=" center">-28.4772,-65.7662</td><td class=" center">http://maps.google.com/?q=-28.4772,-65.7662</td></tr><tr role="row" class="even"><td class="center sorting_1">AA 663 BN</td><td class=" center">Fin de parada de 7 horas y 13 minutos.</td><td class=" center">11/09/2018  06:58:24</td><td class=" center">0</td><td class=" center">-28.4772,-65.7662</td><td class=" center">http://maps.google.com/?q=-28.4772,-65.7662</td></tr><tr role="row" class="odd"><td class="center sorting_1">AA 663 BN</td><td class=" center">En movimiento</td><td class=" center">11/09/2018  06:59:32</td><td class=" center">31</td><td class=" center">-28.4767,-65.7668</td><td class=" center">http://maps.google.com/?q=-28.4767,-65.7668</td></tr><tr role="row" class="even"><td class="center sorting_1">AA 663 BN</td><td class=" center">En movimiento</td><td class=" center">11/09/2018  06:59:40</td><td class=" center">37</td><td class=" center">-28.4759,-65.7666</td><td class=" center">http://maps.google.com/?q=-28.4759,-65.7666</td></tr><tr role="row" class="odd"><td class="center sorting_1">AA 663 BN</td><td class=" center">En movimiento</td><td class=" center">11/09/2018  07:00:59</td><td class=" center">26</td><td class=" center">-28.4716,-65.7666</td><td class=" center">http://maps.google.com/?q=-28.4716,-65.7666</td></tr><tr role="row" class="even"><td class="center sorting_1">AA 663 BN</td><td class=" center">En movimiento</td><td class=" center">11/09/2018  07:01:22</td><td class=" center">5</td><td class=" center">-28.4715,-65.764</td><td class=" center">http://maps.google.com/?q=-28.4715,-65.764</td></tr><tr role="row" class="odd"><td class="center sorting_1">AA 663 BN</td><td class=" center">En movimiento</td><td class=" center">11/09/2018  07:01:31</td><td class=" center">1</td><td class=" center">-28.4713,-65.764</td><td class=" center">http://maps.google.com/?q=-28.4713,-65.764</td></tr><tr role="row" class="even"><td class="center sorting_1">AA 663 BN</td><td class=" center">Estado del motor: Apagado</td><td class=" center">11/09/2018  07:01:31</td><td class=" center">0</td><td class=" center">-28.4713,-65.764</td><td class=" center">http://maps.google.com/?q=-28.4713,-65.764</td></tr><tr role="row" class="odd"><td class="center sorting_1">AA 663 BN</td><td class=" center">Comienza parada de 53 minutos.</td><td class=" center">11/09/2018  07:01:52</td><td class=" center">0</td><td class=" center">-28.4712,-65.7639</td><td class=" center">http://maps.google.com/?q=-28.4712,-65.7639</td></tr><tr role="row" class="even"><td class="center sorting_1">AA 663 BN</td><td class=" center">Estado del motor: Encendido</td><td class=" center">11/09/2018  07:54:37</td><td class=" center">0</td><td class=" center">-28.4712,-65.7639</td><td class=" center">http://maps.google.com/?q=-28.4712,-65.7639</td></tr></tbody></table><div class="dataTables_info" id="tablita_info" role="status" aria-live="polite">Mostrando desde 1 hasta 10 de 1,794 registros</div><div class="dataTables_paginate paging_full_numbers" id="tablita_paginate"><a class="paginate_button first disabled" aria-controls="tablita" data-dt-idx="0" tabindex="0" id="tablita_first">Primero</a><a class="paginate_button previous disabled" aria-controls="tablita" data-dt-idx="1" tabindex="0" id="tablita_previous">Anterior</a><span><a class="paginate_button current" aria-controls="tablita" data-dt-idx="2" tabindex="0">1</a><a class="paginate_button " aria-controls="tablita" data-dt-idx="3" tabindex="0">2</a><a class="paginate_button " aria-controls="tablita" data-dt-idx="4" tabindex="0">3</a><a class="paginate_button " aria-controls="tablita" data-dt-idx="5" tabindex="0">4</a><a class="paginate_button " aria-controls="tablita" data-dt-idx="6" tabindex="0">5</a><span class="ellipsis">…</span><a class="paginate_button " aria-controls="tablita" data-dt-idx="7" tabindex="0">180</a></span><a class="paginate_button next" aria-controls="tablita" data-dt-idx="8" tabindex="0" id="tablita_next">Siguiente</a><a class="paginate_button last" aria-controls="tablita" data-dt-idx="9" tabindex="0" id="tablita_last">Último</a></div></div>
    </div>

</div> 
        <div id="top" style="box-sizing: unset;">
        	<button id="desplega_menu" style="margin-left: 4px; box-sizing: unset;" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-primary" role="button" aria-disabled="false"><span class="ui-button-icon-primary ui-icon ui-icon-triangle-1-s" style="box-sizing: unset;"></span><span class="ui-button-text" style="box-sizing: unset;">MENU</span></button>
            <ul id="menu" style="top: 26px; left: 4px; display: none; box-sizing: unset;" class="ui-menu ui-widget ui-widget-content ui-corner-all" role="menu" tabindex="0" aria-activedescendant="abono">
             <!--<li><a href="#" class="ui-state-disabled">Preferencias</a></li>-->
              <li class="ui-menu-item" role="presentation" style="box-sizing: unset;">
                <a href="http://mobilequest.com.ar/seguimiento2.php#" style="width: 200px; box-sizing: unset;" aria-haspopup="true" id="ui-id-1" class="ui-corner-all" tabindex="-1" role="menuitem"><span class="ui-menu-icon ui-icon ui-icon-carat-1-e" style="box-sizing: unset;"></span>Informes</a>
                <ul class="ui-menu ui-widget ui-widget-content ui-corner-all" role="menu" aria-expanded="false" style="display: none; top: 4px; left: 211px; box-sizing: unset;" aria-hidden="true">
                    <li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" onclick="if($(&#39;#pausa&#39;).text()==&#39;Pausa&#39;){$(&#39;#pausa&#39;).click();} $(&#39;#cargando&#39;).show();$(&#39;#ventana_auxiliar&#39;).load(&#39;informe_kilometraje.php&#39;, function(){$(&#39;#fondo_negro&#39;).show();$(&#39;#ventana_auxiliar&#39;).show();$(&#39;#cargando&#39;).hide();});" style="width: 200px; box-sizing: unset;" id="ui-id-2" class="ui-corner-all" tabindex="-1" role="menuitem">Kilometraje</a></li>
                    <li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" onclick="if($(&#39;#pausa&#39;).text()==&#39;Pausa&#39;){$(&#39;#pausa&#39;).click();} $(&#39;#cargando&#39;).show();$(&#39;#ventana_auxiliar&#39;).load(&#39;informe_tiempo_estado.php&#39;, function(){$(&#39;#fondo_negro&#39;).show();$(&#39;#ventana_auxiliar&#39;).show();$(&#39;#cargando&#39;).hide();});" id="ui-id-3" class="ui-corner-all" tabindex="-1" role="menuitem" style="box-sizing: unset;">Tiempo de un estado</a></li>
                    <li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" onclick="if($(&#39;#pausa&#39;).text()==&#39;Pausa&#39;){$(&#39;#pausa&#39;).click();} $(&#39;#cargando&#39;).show();$(&#39;#ventana_auxiliar&#39;).load(&#39;informe_generales.php&#39;, function(){$(&#39;#fondo_negro&#39;).show();$(&#39;#ventana_auxiliar&#39;).show();$(&#39;#cargando&#39;).hide();});" id="ui-id-4" class="ui-corner-all" tabindex="-1" role="menuitem" style="box-sizing: unset;">Alertas</a></li>
                    <li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" onclick="if($(&#39;#pausa&#39;).text()==&#39;Pausa&#39;){$(&#39;#pausa&#39;).click();} $(&#39;#cargando&#39;).show();$(&#39;#ventana_auxiliar&#39;).load(&#39;informe_registro_zonal.php&#39;, function(){$(&#39;#fondo_negro&#39;).show();$(&#39;#ventana_auxiliar&#39;).show();$(&#39;#cargando&#39;).hide();});" id="ui-id-5" class="ui-corner-all" tabindex="-1" role="menuitem" style="box-sizing: unset;">Registro zonal</a></li>
                    <li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" onclick="if($(&#39;#pausa&#39;).text()==&#39;Pausa&#39;){$(&#39;#pausa&#39;).click();} $(&#39;#cargando&#39;).show();$(&#39;#ventana_auxiliar&#39;).load(&#39;informe_paradas.php&#39;, function(){$(&#39;#fondo_negro&#39;).show();$(&#39;#ventana_auxiliar&#39;).show();$(&#39;#cargando&#39;).hide();});" id="ui-id-6" class="ui-corner-all" tabindex="-1" role="menuitem" style="box-sizing: unset;">Paradas</a></li>
              		<li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="estuvo_en" onclick="if($(&#39;#pausa&#39;).text()==&#39;Pausa&#39;){$(&#39;#pausa&#39;).click();} $(&#39;#cargando&#39;).show();$(&#39;#ventana_auxiliar&#39;).load(&#39;informe_estuvo_en.php?id=155&#39;, function(){$(&#39;#fondo_negro&#39;).show();$(&#39;#ventana_auxiliar&#39;).show();$(&#39;#cargando&#39;).hide();});" class="ui-corner-all" tabindex="-1" role="menuitem" style="box-sizing: unset;">Estuvo en?</a></li>                      
                    <li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" onclick="if($(&#39;#pausa&#39;).text()==&#39;Pausa&#39;){$(&#39;#pausa&#39;).click();} $(&#39;#cargando&#39;).show();$(&#39;#ventana_auxiliar&#39;).load(&#39;informe_recorrido.php&#39;, function(){$(&#39;#fondo_negro&#39;).show();$(&#39;#ventana_auxiliar&#39;).show();$(&#39;#cargando&#39;).hide();});" id="ui-id-7" class="ui-corner-all" tabindex="-1" role="menuitem" style="box-sizing: unset;">Recorrido histórico detallado</a></li>
                    <li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" onclick="if($(&#39;#pausa&#39;).text()==&#39;Pausa&#39;){$(&#39;#pausa&#39;).click();} $(&#39;#cargando&#39;).show();$(&#39;#ventana_auxiliar&#39;).load(&#39;informe_sin_reportar.php&#39;, function(){$(&#39;#fondo_negro&#39;).show();$(&#39;#ventana_auxiliar&#39;).show();$(&#39;#cargando&#39;).hide();});" id="ui-id-8" class="ui-corner-all" tabindex="-1" role="menuitem" style="box-sizing: unset;">Actualmente sin reportar</a></li>
                </ul>
              </li> 
              <li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="zonas_menu" onclick="if($(&#39;#pausa&#39;).text()==&#39;Pausa&#39;){$(&#39;#pausa&#39;).click();} $(&#39;#cargando&#39;).show();$(&#39;#ventana_auxiliar&#39;).load(&#39;zonapant.php?id=155&#39;, function(){$(&#39;#fondo_negro&#39;).show();$(&#39;#ventana_auxiliar&#39;).show();$(&#39;#cargando&#39;).hide(); cargar_mapa_zonapant();});" class="ui-corner-all" tabindex="-1" role="menuitem" style="box-sizing: unset;">Zonas</a></li>
             <li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="grupos" onclick="if($(&#39;#pausa&#39;).text()==&#39;Pausa&#39;){$(&#39;#pausa&#39;).click();} $(&#39;#cargando&#39;).show();acomodoCSSpostGrupos();$(&#39;#ventana_auxiliar&#39;).load(&#39;grupos.html&#39;, function(){$(&#39;#fondo_negro&#39;).show();$(&#39;#ventana_auxiliar&#39;).show();$(&#39;#cargando&#39;).hide();});" class="ui-corner-all" tabindex="-1" role="menuitem" style="box-sizing: unset;">Grupos</a></li>
              <li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="abono" onclick="if($(&#39;#pausa&#39;).text()==&#39;Pausa&#39;){$(&#39;#pausa&#39;).click();} $(&#39;#cargando&#39;).show();$(&#39;#ventana_auxiliar&#39;).load(&#39;detalle_abono.php?id=155&#39;, function(){$(&#39;#fondo_negro&#39;).show();$(&#39;#ventana_auxiliar&#39;).show();$(&#39;#cargando&#39;).hide();});" class="ui-corner-all" tabindex="-1" role="menuitem" style="box-sizing: unset;">Detalle del Abono</a></li>
            </ul>
            <div style="display: inline-block; width: 110px; box-sizing: unset;"></div>
            <!--<label for="grupo" id="label_grupo" style="display:none">Grupo</label>-->
          <select name="grupo" id="grupo" style="width: 130px; display: none; box-sizing: unset;"><option selected="selected" value="0">Grupo</option><option value="284" style="box-sizing: unset;">camionetas</option></select><span class="ui-selectmenu-button ui-widget ui-state-default ui-corner-all" tabindex="0" id="grupo-button" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-owns="grupo-menu" aria-haspopup="true" style="width: 132px;"><span class="ui-icon ui-icon-triangle-1-s"></span><span class="ui-selectmenu-text">Grupo</span></span> 
        	<!--<label for="dominios">Unidad</label>-->
        	<select name="dominios" id="dominios" style="width: 130px; display: none; box-sizing: unset;"><option value="0">Test 1</option><option value="1">Test 2</option><option value="2">Test 4</option><option value="3">Test 5</option></select><span class="ui-selectmenu-button ui-widget ui-state-default ui-corner-all" tabindex="0" id="dominios-button" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-owns="dominios-menu" aria-haspopup="true" style="width: 132px;" aria-labelledby="ui-id-52" aria-activedescendant="ui-id-52" aria-disabled="false"><span class="ui-icon ui-icon-triangle-1-s"></span><span class="ui-selectmenu-text">Test 4</span></span>
            <button id="todos_flota" style="display: inline-block; margin-left: 4px; margin-top: 6px; box-sizing: unset;" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text" style="box-sizing: unset;">Toda la flota</span></button>
        	<button id="todos_grupo" style="display: none; margin-left: 115px; margin-top: 6px; box-sizing: unset;" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text" style="box-sizing: unset;">Todo el grupo</span></button>
            <span id="regresiva" class="hasCountdown" style="box-sizing: unset;"><b style="box-sizing: unset;"> 39 Seconds</b></span><button id="pausa" style="margin-left: 335px; margin-top: 6px; box-sizing: unset;" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text" style="box-sizing: unset;">Continuar</span></button>
            <button id="boton_inicio" style="margin-left: 430px; margin-top: 6px; box-sizing: unset;" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text" style="box-sizing: unset;">Actualizar</span></button>
            <span id="acceso_multiple" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/mapa2014.php?id=155" target="_new" style="right: 10px; color: rgb(255, 255, 255); font-family: Arial; font-size: 0.9em; font-weight: bold; display: inline; position: absolute; top: 9px; cursor: pointer; text-decoration: none; box-sizing: unset;">Selección múltiple</a></span>
            <div style="display: inline-block; width: 530px; box-sizing: unset;"></div>
            <select id="zonas_cliente_seg" style="width: 180px; display: none; padding: 0px; box-sizing: unset;" multiple="multiple"></select><button type="button" class="ui-multiselect ui-widget ui-state-default ui-corner-all ui-button ui-button-text-only" aria-haspopup="true" style="width: 225px; display: none; box-sizing: unset;" role="button" aria-disabled="false"><span class="ui-button-text" style="box-sizing: unset;"><span class="ui-icon ui-icon-triangle-2-n-s" style="box-sizing: unset;"></span><span style="box-sizing: unset;">Zonas</span></span></button>
       <!-- <span id="div_desplegable_zonas" style="display:none;margin-left:550px; margin-top:-40px;">     
            
        </span>-->
        </div>   
        
        <div id="panel_superior" style="box-sizing: unset;">              
          <div id="logo" style="box-sizing: unset;"><img src="./mobileQuest_files/nuevo_logo.png" height="100%" style="box-sizing: unset;"></div>  
          <div id="hora_update" style="display: none; box-sizing: unset;">Actualización de pantalla: 18:25:27 - 12 Sep</div> 
          <div id="referencia" class="referencia" style="cursor: pointer; box-sizing: unset;">Referencia<img src="./mobileQuest_files/flecha_referencia_m.png" id="flecha_referencia_o" style="box-sizing: unset; vertical-align: unset;"><img src="./mobileQuest_files/flecha_referencia_o.png" id="flecha_referencia_m" style="display: none; box-sizing: unset;"></div>      
    	</div>
    
    <div id="flecha_muestra_panel" style="cursor: pointer; box-sizing: unset;"><img src="./mobileQuest_files/flecha_panelr.png" id="flecha_muestra_panel" width="17" height="20" style="box-sizing: unset;"></div>
    
    <div id="panel_izq" style="height: 553px; box-sizing: unset;">
    	<div id="info_cliente" style="box-sizing: unset; padding-top: 10px;">Testeos</div>
      
    	<div id="flecha_oculta_panel" style="cursor: pointer; box-sizing: unset;"><img src="./mobileQuest_files/flecha_panel.png" width="17" height="20" style="box-sizing: unset;"></div>
            		
        <div id="info_flota" style="display: none; box-sizing: unset;">  
        	<h1 class="titulo" style="box-sizing: unset;">INFORMACIÓN GENERAL</h1>
            <ul class="info" style="box-sizing: unset;">
            	<li style="box-sizing: unset;">Cantidad de vehículos: <span id="total_vehiculos" style="box-sizing: unset;">4</span></li>
                <li style="box-sizing: unset;">Encendidos: <span id="total_encendidos" style="box-sizing: unset;">0</span></li>
                <li style="box-sizing: unset;">Apagados: <span id="total_apagados" style="box-sizing: unset;">1<button onclick=" ocultar_o_mostrar_marcador(&quot;todos&quot;,markers_flota,null);ocultar_o_mostrar_marcador(vector_apagados,markers_flota,map); establecer_zoom();$(&quot;#&quot;+filtro_visual+&quot; :button&quot;).css(&quot;background&quot;,&quot;rgb(85, 85, 85) url(/css/ui/images/ui-bg_glass_20_555555_1x400.png) repeat-x scroll 50% 50% / auto padding-box border-box&quot;);filtro_visual=&quot;total_apagados&quot;;$(&quot;#&quot;+filtro_visual+&quot; :button&quot;).css(&quot;background&quot;, &quot;#E67817&quot;);$(&quot;#todos_flota&quot;).css(&quot;display&quot;,&quot;inline-block&quot;);if($(&quot;#contenedor_referencia&quot;).css(&quot;display&quot;)!=&quot;none&quot;){$(&quot;#referencia&quot;).click();};" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">ver</span></button></span></li>
                <li style="box-sizing: unset;"><span id="vector_movimiento" style="box-sizing: unset;"></span></li>
                <li style="box-sizing: unset;"><span id="vector_reposo" style="box-sizing: unset;"></span></li>
                <li style="box-sizing: unset;">Detenidos por mas de <select id="tiempo_min" style="font-family: Arial; display: none; box-sizing: unset;">
		                <option value="1" style="box-sizing: unset;">1</option>
                        <option value="5" selected="selected" style="box-sizing: unset;">5</option>
                        <option value="10" style="box-sizing: unset;">10</option>
                        <option value="15" style="box-sizing: unset;">15</option>
                        <option value="30" style="box-sizing: unset;">30</option>
                        <option value="60" style="box-sizing: unset;">60</option>
					</select><span class="ui-selectmenu-button ui-widget ui-state-default ui-corner-all" tabindex="0" id="tiempo_min-button" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-owns="tiempo_min-menu" aria-haspopup="true" style="width: 36px; box-sizing: unset;"><span class="ui-icon ui-icon-triangle-1-s" style="box-sizing: unset;"></span><span class="ui-selectmenu-text" style="box-sizing: unset;">5</span></span> min: <span id="total_detenidos" style="display: inline-block; box-sizing: unset;">1<button id="pepito" onclick="$(&quot;#sustituto_tiempo_min_change_flota&quot;).click();$(&quot;#&quot;+filtro_visual+&quot; :button&quot;).css(&quot;background&quot;,&quot;rgb(85, 85, 85) url(/css/ui/images/ui-bg_glass_20_555555_1x400.png) repeat-x scroll 50% 50% / auto padding-box border-box&quot;);filtro_visual=&quot;total_detenidos&quot;;$(&quot;#&quot;+filtro_visual+&quot; :button&quot;).css(&quot;background&quot;, &quot;#E67817&quot;);" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">ver</span></button></span>
				</li> 
                <li style="box-sizing: unset;"><span id="vector_con_reporte" style="display: none; box-sizing: unset;">Reportandose al servidor: 1<button onclick=" ocultar_o_mostrar_marcador(&quot;todos&quot;,markers_flota,null);ocultar_o_mostrar_marcador(vector_con_reporte,markers_flota,map); establecer_zoom(); $(&quot;#&quot;+filtro_visual+&quot; :button&quot;).css(&quot;background&quot;,&quot;rgb(85, 85, 85) url(/css/ui/images/ui-bg_glass_20_555555_1x400.png) repeat-x scroll 50% 50% / auto padding-box border-box&quot;);filtro_visual=&quot;vector_con_reporte&quot;;$(&quot;#&quot;+filtro_visual+&quot; :button&quot;).css(&quot;background&quot;, &quot;#E67817&quot;);$(&quot;#todos_flota&quot;).css(&quot;display&quot;,&quot;inline-block&quot;);if($(&quot;#contenedor_referencia&quot;).css(&quot;display&quot;)!=&quot;none&quot;){$(&quot;#referencia&quot;).click();};" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">ver</span></button></span></li>
                <!--AGREGADO PARA MOSTRAR Y OCULTAR ZONAS EN PANTALLA INICIAL-->
                <li id="zonas_dibujadas" style="display: none; box-sizing: unset;">Zonas: <button id="ver_ocultar_zonas" class="ui-button-text ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" style="background: url(&quot;css/ui/images/ui-bg_inset-hard_30_f57e00_1x100.png&quot;) 50% 50% repeat; box-sizing: unset;" role="button" aria-disabled="false"><span class="ui-button-text" style="box-sizing: unset;">ocultar</span></button></li>
                 <!--FIN AGREGADO PARA MOSTRAR Y OCULTAR ZONAS EN PANTALLA INICIAL-->
            </ul>   
         </div>
         
         <div id="alertas_flota" style="display: none; box-sizing: unset;">
			<h1 class="titulo" style="box-sizing: unset;">ALERTAS DE LOS VEHÍCULOS</h1>
            <ul class="info" style="box-sizing: unset;">
            	<li style="box-sizing: unset;"><span id="vector_en_panico" style="box-sizing: unset;"></span></li>
                <li style="box-sizing: unset;"><span id="vector_baja_bat" style="box-sizing: unset;"></span></li>
                <li style="box-sizing: unset;"><span id="vector_sin_bat" style="box-sizing: unset;"></span></li>
            	<li style="box-sizing: unset;"><span id="vector_sin_reporte" style="box-sizing: unset;"></span></li>
				<li style="box-sizing: unset;"><span id="total_sin_gps" style="box-sizing: unset;"></span></li>
            </ul>       
            <span id="mensaje_sin_alertas" style="box-sizing: unset;">NO SE REGISTRARON ALERTAS</span>  
         </div>
         
		<div id="recorrido" style="box-sizing: unset;">
			<div id="info_vehiculo_seleccionado" style="width: 100%; padding-top: 10%; display: block; box-sizing: unset;">	
                <h1 class="titulo" style="box-sizing: unset;">VEHICULO SELECCIONADO</h1>
                <ul class="info" style="box-sizing: unset;">
                    <li style="box-sizing: unset;"><span id="numero_chip" style="box-sizing: unset;">Número de línea: res tri ngido</span></li>
                    <li style="box-sizing: unset;"><span id="datos_vehiculo" style="box-sizing: unset;">Denominación: Test 4<br>Patente: Test 4 <br>Marca: FIAT<br>Modelo: MULTIJET<br>Color: Blanco<br></span></li>
                    <li style="box-sizing: unset;"><span id="estado_actual_vehiculo" style="display: inline-block; box-sizing: unset;">Dirección: República 241, T4000KTE San Miguel de Tucumán, Tucumán, Argentina<br>Actualizado: 12 Sep 2018 18:18:47<br>Estado del motor: Apagado<br>Cuenta kilómetros: <span id="km_total_usuario" class="class_km_reset">11248.65</span> Km.<button id="km_reset" style="font-size:0.6em; margin-top: -2px;" onclick="$(&#39;#dialogo&#39;).dialog( &#39;option&#39;, &#39;title&#39;, &#39;Advertencia&#39;);$(&#39;#dialogo&#39;).html(&#39;¿Está seguro que desea poner el cuenta kilómetros en cero?&#39;);$(&#39;#dialogo&#39;).dialog(&#39;open&#39;);$(&#39;#dialogo&#39;).dialog( &#39;option&#39;, &#39;buttons&#39;, {&#39;Si&#39;: function(){$.post(&#39;acciones_mq3.php&#39;,{accion:&#39;km_reset&#39;,imei:&#39;862894020949650&#39;},function(resp){$(&#39;#dialogo&#39;).dialog( &#39;option&#39;, &#39;title&#39;, &#39;Confirmación&#39;);$(&#39;#dialogo&#39;).html(resp);$(&#39;#dialogo&#39;).dialog( &#39;option&#39;, &#39;buttons&#39;, { &#39;aceptar&#39;: function() { $(this).dialog(&#39;close&#39;);} } );});vector_cod_html[2]=vector_cod_html[2].replace(&#39;&gt;&#39;+$(&#39;#km_total_usuario&#39;).text()+&#39;&lt;&#39;,&#39;&gt;0&lt;&#39;);$(&#39;.class_km_reset&#39;).text(0);}, &#39;No&#39;: function(){$(this).dialog(&#39;close&#39;);}});" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Reset</span></button><br>Batería externa conectada (12.904 V)<br>Señal de GPS: Muy buena<br></span></li>
                </ul> 
                <div id="boton_oculta_div" style="box-sizing: unset;">  
                	<button id="muestra_estado_vehiculo" style="box-sizing: unset; display: none;" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text" style="box-sizing: unset;">+ info</span></button>
                </div>
			</div>
            
            <div id="elementos_del_recorrido" style="display: block; box-sizing: unset;">
            	<h1 class="titulo" style="box-sizing: unset;">ELEMENTOS DEL RECORRIDO</h1>
                
                <div id="desde" style="float: left; margin-left: 40px; border: 2px solid rgb(153, 153, 153); width: 100px; padding: 10px; box-sizing: unset;">
                <label style="display: block; margin-left: 28px; box-sizing: unset;">Desde</label>
                <input name="fecha_desde" type="text" id="fecha_desde" size="17" style="width: 100px; margin-top: 5px; box-sizing: unset;" class="hasDatepicker">
                </div>
                
                <div id="hasta" style="float: right; margin-right: 50px; width: 100px; padding: 10px; border: 2px solid rgb(153, 153, 153); box-sizing: unset;">
                <label style="display: block; margin-left: 30px; box-sizing: unset;">Hasta</label>
                <input name="fecha_hasta" type="text" id="fecha_hasta" size="17" style="width: 100px; margin-top: 5px; box-sizing: unset;" class="hasDatepicker">    
                </div>
                
                <br style="box-sizing: unset;">
                <label style="margin-left: 10%; display: inline-block; box-sizing: unset;">Tiempo min de detención:</label>
                <select id="tiempo_min_detencion" style="width: 50px; top: 10px; display: none; box-sizing: unset;">
                <option value="1" style="box-sizing: unset;">1</option>
                <option value="5" selected="selected" style="box-sizing: unset;">5</option>
                <option value="10" style="box-sizing: unset;">10</option>
                <option value="15" style="box-sizing: unset;">15</option>
                <option value="30" style="box-sizing: unset;">30</option>
                <option value="60" style="box-sizing: unset;">60</option>
                </select><span class="ui-selectmenu-button ui-widget ui-state-default ui-corner-all" tabindex="0" id="tiempo_min_detencion-button" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-owns="tiempo_min_detencion-menu" aria-haspopup="true" style="width: 50px; box-sizing: unset;" aria-activedescendant="ui-id-20" aria-labelledby="ui-id-20" aria-disabled="false"><span class="ui-icon ui-icon-triangle-1-s" style="box-sizing: unset;"></span><span class="ui-selectmenu-text" style="box-sizing: unset;">5</span></span> 
                minutos.
                <br style="box-sizing: unset;">
                <button id="boton_recorrido" style="margin-left: 40%; margin-top: 20px; box-sizing: unset;" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text" style="box-sizing: unset;">Recorrido</span></button>
                <br style="box-sizing: unset;">
                
                <div id="info_recorrido" style="margin-top: 30px; display: none; box-sizing: unset;">
                	<h1 class="titulo" style="box-sizing: unset;">ALERTAS EN EL RECORRIDO</h1>
                    
                    <div id="alertas_del_recorrido" style="box-sizing: unset;"><button id="reestablece_recorrido" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false" style="box-sizing: unset;"><span class="ui-button-text" style="box-sizing: unset;">Restablecer</span></button><br style="box-sizing: unset;"><button id="1" class="alternomasmenos ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false" style="box-sizing: unset;"><span class="ui-button-text" style="box-sizing: unset;">+</span></button><span style="margin-left: 40px; box-sizing: unset;">Estado del motor: 44</span><span style="box-sizing: unset;"><button id="1" name="1" class="alternoverocultar ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false" style="box-sizing: unset;"><span class="ui-button-text" style="box-sizing: unset;">ver</span></button></span><br style="box-sizing: unset;"><div id="div_desple_1" style="display: none; box-sizing: unset;"><span style="margin-left: 40px; box-sizing: unset;">Encendido: 22</span><span style="box-sizing: unset;"><button id="1" name="3" class="alternoverocultar ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false" style="box-sizing: unset;"><span class="ui-button-text" style="box-sizing: unset;">ver</span></button></span><br style="box-sizing: unset;"><span style="margin-left: 40px; box-sizing: unset;">Apagado: 22</span><span style="box-sizing: unset;"><button id="1" name="5" class="alternoverocultar ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false" style="box-sizing: unset;"><span class="ui-button-text" style="box-sizing: unset;">ver</span></button></span><br style="box-sizing: unset;"></div></div>
                    
                    <h1 class="titulo" style="box-sizing: unset;">RESUMEN DEL RECORRIDO</h1>
                    
                    <div id="resumen_del_recorrido" style="box-sizing: unset;"></div>
                </div>
			</div>
		</div>
		
        <button id="boton_nada" style="display: none; box-sizing: unset;" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text" style="box-sizing: unset;">botón nada</span></button>
        <button id="sustituto_tiempo_min_change_flota" style="display: none; box-sizing: unset;" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text" style="box-sizing: unset;">sustituto</span></button>
        <!--<select id="select_nada">
        <optgroup label="mobilequest">
        <option value="0" selected="selected">Test</option>
        <option value="1">Nacho</option>
        <option value="2">Carlin</option>
        </optgroup>
        <optgroup label="Extras">
        <option value="3">Julio</option>
        <option value="4">Francisco</option>
        </optgroup>
        </select>-->
	</div>

	
    
    <div id="map_canvas" style="width: 924px; height: 553px; overflow: hidden; box-sizing: unset;"><div style="height: 100%; width: 100%; position: absolute; top: 0px; left: 0px; background-color: rgb(229, 227, 223); box-sizing: unset;"><div class="gm-style" style="position: absolute; z-index: 0; left: 0px; top: 0px; height: 100%; width: 100%; padding: 0px; border-width: 0px; margin: 0px; box-sizing: unset;"><div tabindex="0" style="position: absolute; z-index: 0; left: 0px; top: 0px; height: 100%; width: 100%; padding: 0px; border-width: 0px; margin: 0px; cursor: url(&quot;http://maps.gstatic.com/mapfiles/openhand_8_8.cur&quot;), default; touch-action: none; box-sizing: unset;"><div style="z-index: 1; position: absolute; left: 50%; top: 50%; transform: translate(0px, 0px); box-sizing: unset;"><div style="position: absolute; left: 0px; top: 0px; z-index: 100; width: 100%; box-sizing: unset;"><div style="position: absolute; left: 0px; top: 0px; z-index: 0; box-sizing: unset;"><div style="position: absolute; z-index: 1; transform: matrix(1, 0, 0, 1, -78, -246);"><div style="position: absolute; left: 0px; top: 256px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: -256px; top: 256px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: -256px; top: 0px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: 0px; top: 0px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: 256px; top: 0px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: 256px; top: 256px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: 256px; top: 512px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: 0px; top: 512px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: -256px; top: 512px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: -512px; top: 512px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: -512px; top: 256px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: -512px; top: 0px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: -512px; top: -256px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: -256px; top: -256px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: 0px; top: -256px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: 256px; top: -256px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: 512px; top: -256px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: 512px; top: 0px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: 512px; top: 256px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div><div style="position: absolute; left: 512px; top: 512px; width: 256px; height: 256px;"><div style="width: 256px; height: 256px;"></div></div></div></div></div><div style="position: absolute; left: 0px; top: 0px; z-index: 101; width: 100%; box-sizing: unset;"><div style="position: absolute; left: 0px; top: 0px; z-index: 30; box-sizing: unset;"><div style="position: absolute; z-index: 1; transform: matrix(1, 0, 0, 1, -78, -246);"><div style="width: 256px; height: 256px; position: absolute; left: 0px; top: 256px;"></div><div style="width: 256px; height: 256px; position: absolute; left: -256px; top: 256px;"></div><div style="width: 256px; height: 256px; position: absolute; left: -256px; top: 0px;"></div><div style="width: 256px; height: 256px; position: absolute; left: 0px; top: 0px;"></div><div style="width: 256px; height: 256px; position: absolute; left: 256px; top: 0px;"></div><div style="width: 256px; height: 256px; position: absolute; left: 256px; top: 256px;"></div><div style="width: 256px; height: 256px; position: absolute; left: 256px; top: 512px;"></div><div style="width: 256px; height: 256px; position: absolute; left: 0px; top: 512px;"></div><div style="width: 256px; height: 256px; position: absolute; left: -256px; top: 512px;"></div><div style="width: 256px; height: 256px; position: absolute; left: -512px; top: 512px;"></div><div style="width: 256px; height: 256px; position: absolute; left: -512px; top: 256px;"></div><div style="width: 256px; height: 256px; position: absolute; left: -512px; top: 0px;"></div><div style="width: 256px; height: 256px; position: absolute; left: -512px; top: -256px;"></div><div style="width: 256px; height: 256px; position: absolute; left: -256px; top: -256px;"></div><div style="width: 256px; height: 256px; position: absolute; left: 0px; top: -256px;"></div><div style="width: 256px; height: 256px; position: absolute; left: 256px; top: -256px;"></div><div style="width: 256px; height: 256px; position: absolute; left: 512px; top: -256px;"></div><div style="width: 256px; height: 256px; position: absolute; left: 512px; top: 0px;"></div><div style="width: 256px; height: 256px; position: absolute; left: 512px; top: 256px;"></div><div style="width: 256px; height: 256px; position: absolute; left: 512px; top: 512px;"></div></div></div></div><div style="position: absolute; left: 0px; top: 0px; z-index: 102; width: 100%; box-sizing: unset;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 103; width: 100%; box-sizing: unset;"><div style="position: absolute; left: 0px; top: 0px; z-index: -1; box-sizing: unset;"><div style="position: absolute; z-index: 1; transform: matrix(1, 0, 0, 1, -78, -246);"><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 0px; top: 256px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: -256px; top: 256px;"><canvas draggable="false" height="384" width="384" style="user-select: none; position: absolute; left: 0px; top: 0px; height: 256px; width: 256px;"></canvas></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: -256px; top: 0px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 0px; top: 0px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 256px; top: 0px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 256px; top: 256px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 256px; top: 512px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 0px; top: 512px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: -256px; top: 512px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: -512px; top: 512px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: -512px; top: 256px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: -512px; top: 0px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: -512px; top: -256px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: -256px; top: -256px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 0px; top: -256px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 256px; top: -256px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 512px; top: -256px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 512px; top: 0px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 512px; top: 256px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 512px; top: 512px;"></div></div></div><div class="labels" style="opacity: 0.75; position: absolute; overflow: hidden; margin-left: -21px; margin-top: -4px; left: -96px; top: 50px; z-index: 2; display: block;">Test 4</div><div class="labels2" style="position: absolute; overflow: hidden; margin-left: -29px; margin-top: -65px; left: -96px; top: 50px; z-index: 3; display: block;">54</div><div style="width: 54px; height: 70px; overflow: hidden; position: absolute; left: -123px; top: -20px; z-index: 1;"><img alt="" src="./mobileQuest_files/apagado_parada.png" draggable="false" style="position: absolute; left: 0px; top: 0px; user-select: none; width: 54px; height: 70px; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="width: 1px; height: 1px; overflow: hidden; position: absolute; left: -101px; top: 15px; z-index: 2;"><img alt="" src="./mobileQuest_files/transparente.png" draggable="false" style="position: absolute; left: 0px; top: 0px; user-select: none; width: 1px; height: 1px; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div></div><div style="position: absolute; left: 0px; top: 0px; z-index: 0; box-sizing: unset;"><div style="position: absolute; z-index: 1; transform: matrix(1, 0, 0, 1, -78, -246);"><div style="position: absolute; left: 0px; top: 256px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: -256px; top: 256px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(1)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: -256px; top: 0px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(2)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 0px; top: 0px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(3)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 256px; top: 0px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(4)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 256px; top: 256px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(5)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 256px; top: 512px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(6)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 0px; top: 512px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(7)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: -256px; top: 512px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(8)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: -512px; top: 512px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(9)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: -512px; top: 256px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(10)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: -512px; top: 0px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(11)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: -512px; top: -256px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(12)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: -256px; top: -256px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(13)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 0px; top: -256px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(14)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 256px; top: -256px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(15)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 512px; top: -256px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(16)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 512px; top: 0px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(17)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 512px; top: 256px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(18)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 512px; top: 512px; width: 256px; height: 256px;"><img draggable="false" alt="" src="./mobileQuest_files/vt(19)" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div></div></div></div><div class="gm-style-pbc" style="z-index: 2; position: absolute; height: 100%; width: 100%; padding: 0px; border-width: 0px; margin: 0px; left: 0px; top: 0px; opacity: 0; transition-duration: 0.2s; box-sizing: unset;"><p class="gm-style-pbt" style="box-sizing: unset;"></p></div><div style="z-index: 3; position: absolute; height: 100%; width: 100%; padding: 0px; border-width: 0px; margin: 0px; left: 0px; top: 0px; touch-action: pan-x pan-y; box-sizing: unset;"><div style="z-index: 4; position: absolute; left: 50%; top: 50%; transform: translate(0px, 0px); box-sizing: unset;"><div style="position: absolute; left: 0px; top: 0px; z-index: 104; width: 100%; box-sizing: unset;"><img src="./mobileQuest_files/drag_cross_67_16.png" style="position: absolute; z-index: 1000002; display: none; margin-left: -8px; margin-top: -9px; box-sizing: unset;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 105; width: 100%; box-sizing: unset;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 106; width: 100%; box-sizing: unset;"><div onselectstart="return false;" ondragstart="return false;" title="apagado_parada, Test 4" class="labels" style="opacity: 0.01; position: absolute; overflow: hidden; cursor: pointer; margin-left: -21px; margin-top: -4px; left: -96px; top: 50px; z-index: 2; display: block;">Test 4</div><div onselectstart="return false;" ondragstart="return false;" title="apagado_parada, Test 4" class="labels2" style="position: absolute; overflow: hidden; cursor: pointer; opacity: 0.01; margin-left: -29px; margin-top: -65px; left: -96px; top: 50px; z-index: 3; display: block;">54</div><div class="gmnoprint" style="width: 54px; height: 70px; overflow: hidden; position: absolute; opacity: 0.01; left: -123px; top: -20px; z-index: 1;"><img alt="" src="./mobileQuest_files/apagado_parada.png" draggable="false" usemap="#gmimap56" style="position: absolute; left: 0px; top: 0px; width: 54px; height: 70px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"><map name="gmimap56" id="gmimap56"><area log="miw" coords="21,3,23,4,24,5,25,6,26,7,26,8,27,9,27,10,41,11,42,12,43,13,43,14,43,15,43,16,43,17,43,18,43,19,43,20,43,21,43,22,43,23,43,24,43,25,43,26,43,27,43,28,43,29,43,30,43,31,43,32,43,33,43,34,43,35,43,36,43,37,43,38,43,39,43,40,43,41,43,42,43,43,43,44,43,45,43,46,43,47,43,48,43,49,43,50,43,51,42,52,33,53,33,54,33,55,33,56,33,57,33,58,37,59,36,60,35,61,34,62,33,63,32,64,31,65,30,66,29,66,28,65,27,64,26,63,25,62,24,61,23,60,22,59,26,58,26,57,26,56,26,55,26,54,26,53,17,52,16,51,16,50,16,49,16,48,16,47,16,46,16,45,16,44,16,43,16,42,16,41,16,40,16,39,16,38,16,37,16,36,16,35,16,34,16,33,16,32,16,31,16,30,16,29,16,28,16,27,16,26,16,25,15,24,14,23,13,22,12,21,11,20,11,19,10,18,9,17,8,16,8,15,8,14,8,13,8,12,8,11,8,10,8,9,9,8,10,7,11,6,12,5,13,4,15,3,21,3" shape="poly" title="apagado_parada, Test 4" style="cursor: pointer; touch-action: none;"></map></div><div class="gmnoprint" title="apagado_parada, Test 4" style="width: 1px; height: 1px; overflow: hidden; position: absolute; opacity: 0.01; cursor: pointer; touch-action: none; left: -101px; top: 15px; z-index: 2;"><img alt="" src="./mobileQuest_files/transparente.png" draggable="false" style="position: absolute; left: 0px; top: 0px; user-select: none; width: 1px; height: 1px; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div></div><div style="position: absolute; left: 0px; top: 0px; z-index: 107; width: 100%; box-sizing: unset;"><div style="z-index: -202; cursor: pointer; display: none; touch-action: none; box-sizing: unset;"><div style="width: 30px; height: 27px; overflow: hidden; position: absolute; box-sizing: unset;"><img alt="" src="./mobileQuest_files/undo_poly.png" draggable="false" style="position: absolute; left: 0px; top: 0px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; width: 90px; height: 27px; box-sizing: unset;"></div></div></div></div></div></div><iframe frameborder="0" style="z-index: -1; position: absolute; width: 100%; height: 100%; top: 0px; left: 0px; border: none; box-sizing: unset;" src="./mobileQuest_files/saved_resource.html"></iframe><div style="margin-left: 5px; margin-right: 5px; z-index: 1000000; position: absolute; left: 0px; bottom: 0px; box-sizing: unset;"><a target="_blank" rel="noopener" href="https://maps.google.com/maps?ll=-26.823295,-65.230093&amp;z=14&amp;t=m&amp;hl=es-ES&amp;gl=US&amp;mapclient=apiv3" title="Haz clic aquí para visualizar esta zona en Google Maps" style="position: static; overflow: visible; float: none; display: inline; box-sizing: unset;"><div style="width: 66px; height: 26px; cursor: pointer; box-sizing: unset;"><img alt="" src="./mobileQuest_files/google4_hdpi.png" draggable="false" style="position: absolute; left: 0px; top: 0px; width: 66px; height: 26px; user-select: none; border: 0px; padding: 0px; margin: 0px; box-sizing: unset;"></div></a></div><div style="background-color: white; padding: 15px 21px; border: 1px solid rgb(171, 171, 171); font-family: Roboto, Arial, sans-serif; color: rgb(34, 34, 34); box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 16px; z-index: 10000002; display: none; width: 256px; height: 148px; position: absolute; left: 312px; top: 187px; box-sizing: unset;"><div style="padding: 0px 0px 10px; font-size: 16px; box-sizing: unset;">Datos de mapas</div><div style="font-size: 13px; box-sizing: unset;">Datos de mapas ©2018 Google</div><div style="width: 13px; height: 13px; overflow: hidden; position: absolute; opacity: 0.7; right: 12px; top: 12px; z-index: 10000; cursor: pointer; box-sizing: unset;"><img alt="" src="./mobileQuest_files/mapcnt6.png" draggable="false" style="position: absolute; left: -2px; top: -336px; width: 59px; height: 492px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; box-sizing: unset;"></div></div><div class="gmnoprint" style="z-index: 1000001; position: absolute; right: 235px; bottom: 0px; width: 151px; box-sizing: unset;"><div draggable="false" class="gm-style-cc" style="user-select: none; height: 14px; line-height: 14px; box-sizing: unset;"><div style="opacity: 0.7; width: 100%; height: 100%; position: absolute; box-sizing: unset;"><div style="width: 1px; box-sizing: unset;"></div><div style="background-color: rgb(245, 245, 245); width: auto; height: 100%; margin-left: 1px; box-sizing: unset;"></div></div><div style="position: relative; padding-right: 6px; padding-left: 6px; font-family: Roboto, Arial, sans-serif; font-size: 10px; color: rgb(68, 68, 68); white-space: nowrap; direction: ltr; text-align: right; vertical-align: middle; display: inline-block; box-sizing: unset;"><a style="text-decoration: none; cursor: pointer; display: none; box-sizing: unset;">Datos de mapas</a><span style="box-sizing: unset;">Datos de mapas ©2018 Google</span></div></div></div><div class="gmnoscreen" style="position: absolute; right: 0px; bottom: 0px; box-sizing: unset;"><div style="font-family: Roboto, Arial, sans-serif; font-size: 11px; color: rgb(68, 68, 68); direction: ltr; text-align: right; background-color: rgb(245, 245, 245); box-sizing: unset;">Datos de mapas ©2018 Google</div></div><div class="gmnoprint gm-style-cc" draggable="false" style="z-index: 1000001; user-select: none; height: 14px; line-height: 14px; position: absolute; right: 149px; bottom: 0px; box-sizing: unset;"><div style="opacity: 0.7; width: 100%; height: 100%; position: absolute; box-sizing: unset;"><div style="width: 1px; box-sizing: unset;"></div><div style="background-color: rgb(245, 245, 245); width: auto; height: 100%; margin-left: 1px; box-sizing: unset;"></div></div><div style="position: relative; padding-right: 6px; padding-left: 6px; font-family: Roboto, Arial, sans-serif; font-size: 10px; color: rgb(68, 68, 68); white-space: nowrap; direction: ltr; text-align: right; vertical-align: middle; display: inline-block; box-sizing: unset;"><a href="https://www.google.com/intl/es-ES_US/help/terms_maps.html" target="_blank" rel="noopener" style="text-decoration: none; cursor: pointer; color: rgb(68, 68, 68); box-sizing: unset;">Términos de uso</a></div></div><button draggable="false" title="Cambiar a la vista en pantalla completa" aria-label="Cambiar a la vista en pantalla completa" type="button" style="background: none rgb(255, 255, 255); border: 0px; margin: 10px 14px; padding: 0px; position: absolute; cursor: pointer; user-select: none; width: 25px; height: 25px; overflow: hidden; top: 0px; right: 0px; box-sizing: unset;" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text" style="box-sizing: unset;"><img alt="" src="./mobileQuest_files/sv9.png" draggable="false" class="gm-fullscreen-control" style="position: absolute; left: -52px; top: -86px; width: 164px; height: 175px; user-select: none; border: 0px; padding: 0px; margin: 0px; box-sizing: unset;"></span></button><div draggable="false" class="gm-style-cc" style="user-select: none; height: 14px; line-height: 14px; position: absolute; right: 0px; bottom: 0px; box-sizing: unset;"><div style="opacity: 0.7; width: 100%; height: 100%; position: absolute; box-sizing: unset;"><div style="width: 1px; box-sizing: unset;"></div><div style="background-color: rgb(245, 245, 245); width: auto; height: 100%; margin-left: 1px; box-sizing: unset;"></div></div><div style="position: relative; padding-right: 6px; padding-left: 6px; font-family: Roboto, Arial, sans-serif; font-size: 10px; color: rgb(68, 68, 68); white-space: nowrap; direction: ltr; text-align: right; vertical-align: middle; display: inline-block; box-sizing: unset;"><a target="_blank" rel="noopener" title="Informar a Google acerca de errores en las imágenes o en el mapa de carreteras" href="https://www.google.com/maps/@-26.8232953,-65.2300929,14z/data=!10m1!1e1!12b1?source=apiv3&amp;rapsrc=apiv3" style="font-family: Roboto, Arial, sans-serif; font-size: 10px; color: rgb(68, 68, 68); text-decoration: none; position: relative; box-sizing: unset;">Notificar un problema de Maps</a></div></div><div class="gmnoprint gm-bundled-control gm-bundled-control-on-bottom" draggable="false" controlwidth="28" controlheight="93" style="margin: 10px; user-select: none; position: absolute; bottom: 107px; right: 28px; box-sizing: unset;"><div class="gmnoprint" controlwidth="28" controlheight="55" style="position: absolute; left: 0px; top: 38px; box-sizing: unset;"><div draggable="false" style="user-select: none; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px; border-radius: 2px; cursor: pointer; background-color: rgb(255, 255, 255); width: 28px; height: 55px; box-sizing: unset;"><button draggable="false" title="Acerca la imagen" aria-label="Acerca la imagen" type="button" style="background: none; display: block; border: 0px; margin: 0px; padding: 0px; position: relative; cursor: pointer; user-select: none; width: 28px; height: 27px; top: 0px; left: 0px; box-sizing: unset;" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text" style="box-sizing: unset;"><div style="overflow: hidden; position: absolute; width: 15px; height: 15px; left: 7px; top: 6px; box-sizing: unset;"><img alt="" src="./mobileQuest_files/tmapctrl_hdpi.png" draggable="false" style="position: absolute; left: 0px; top: 0px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; width: 120px; height: 54px; box-sizing: unset;"></div></span></button><div style="position: relative; overflow: hidden; width: 67%; height: 1px; left: 16%; background-color: rgb(230, 230, 230); top: 0px; box-sizing: unset;"></div><button draggable="false" title="Aleja la imagen" aria-label="Aleja la imagen" type="button" style="background: none; display: block; border: 0px; margin: 0px; padding: 0px; position: relative; cursor: pointer; user-select: none; width: 28px; height: 27px; top: 0px; left: 0px; box-sizing: unset;" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text" style="box-sizing: unset;"><div style="overflow: hidden; position: absolute; width: 15px; height: 15px; left: 7px; top: 6px; box-sizing: unset;"><img alt="" src="./mobileQuest_files/tmapctrl_hdpi.png" draggable="false" style="position: absolute; left: 0px; top: -15px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; width: 120px; height: 54px; box-sizing: unset;"></div></span></button></div></div><div class="gm-svpc" controlwidth="28" controlheight="28" style="background-color: rgb(255, 255, 255); box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px; border-radius: 2px; width: 28px; height: 28px; cursor: url(&quot;http://maps.gstatic.com/mapfiles/openhand_8_8.cur&quot;), default; touch-action: none; position: absolute; left: 0px; top: 0px; box-sizing: unset;"><div style="position: absolute; left: 1px; top: 1px; box-sizing: unset;"></div><div style="position: absolute; left: 1px; top: 1px; box-sizing: unset;"><div aria-label="Control del hombrecito naranja de Street View" style="width: 26px; height: 26px; overflow: hidden; position: absolute; left: 0px; top: 0px; box-sizing: unset;"><img alt="" src="./mobileQuest_files/cb_scout5_hdpi.png" draggable="false" style="position: absolute; left: -147px; top: -26px; width: 215px; height: 835px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; box-sizing: unset;"></div><div aria-label="El hombrecito naranja está en la parte superior del mapa" style="width: 26px; height: 26px; overflow: hidden; position: absolute; left: 0px; top: 0px; visibility: hidden; box-sizing: unset;"><img alt="" src="./mobileQuest_files/cb_scout5_hdpi.png" draggable="false" style="position: absolute; left: -147px; top: -52px; width: 215px; height: 835px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; box-sizing: unset;"></div><div aria-label="Control del hombrecito naranja de Street View" style="width: 26px; height: 26px; overflow: hidden; position: absolute; left: 0px; top: 0px; box-sizing: unset; visibility: hidden;"><img alt="" src="./mobileQuest_files/cb_scout5_hdpi.png" draggable="false" style="position: absolute; left: -147px; top: -78px; width: 215px; height: 835px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; box-sizing: unset;"></div></div></div><div class="gmnoprint" controlwidth="28" controlheight="0" style="display: none; position: absolute; box-sizing: unset;"><div title="Girar el mapa 90 grados" style="width: 28px; height: 28px; overflow: hidden; position: absolute; background-color: rgb(255, 255, 255); box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px; border-radius: 2px; cursor: pointer; display: none; box-sizing: unset;"><img alt="" src="./mobileQuest_files/tmapctrl4_hdpi.png" draggable="false" style="position: absolute; left: -141px; top: 6px; width: 170px; height: 54px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; box-sizing: unset;"></div><div class="gm-tilt" style="width: 28px; height: 28px; overflow: hidden; position: absolute; background-color: rgb(255, 255, 255); box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px; border-radius: 2px; top: 0px; cursor: pointer; box-sizing: unset;"><img alt="" src="./mobileQuest_files/tmapctrl4_hdpi.png" draggable="false" style="position: absolute; left: -141px; top: -13px; width: 170px; height: 54px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; box-sizing: unset;"></div></div></div><div class="gmnoprint" style="margin: 10px; z-index: 0; position: absolute; cursor: pointer; left: 0px; top: 0px; box-sizing: unset;"><div class="gm-style-mtc" style="float: left; position: relative; box-sizing: unset;"><div role="button" tabindex="0" title="Muestra el callejero" aria-label="Muestra el callejero" aria-pressed="true" draggable="false" style="direction: ltr; overflow: hidden; text-align: center; position: relative; color: rgb(0, 0, 0); font-family: Roboto, Arial, sans-serif; user-select: none; font-size: 11px; background-color: rgb(255, 255, 255); padding: 8px; border-bottom-left-radius: 2px; border-top-left-radius: 2px; background-clip: padding-box; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px; min-width: 28px; font-weight: 500; box-sizing: unset;">Mapa</div><div style="background-color: white; z-index: -1; padding: 2px; border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px; position: absolute; left: 0px; top: 29px; text-align: left; display: none; box-sizing: unset;"><div draggable="false" title="Muestra el callejero con relieve" style="color: rgb(0, 0, 0); font-family: Roboto, Arial, sans-serif; user-select: none; font-size: 11px; background-color: rgb(255, 255, 255); padding: 6px 8px 6px 6px; direction: ltr; text-align: left; white-space: nowrap; box-sizing: unset;"><span role="checkbox" style="box-sizing: unset; position: relative; line-height: 0; font-size: 0px; margin: 0px 5px 0px 0px; display: inline-block; background-color: rgb(255, 255, 255); border: 1px solid rgb(198, 198, 198); border-radius: 1px; width: 13px; height: 13px; vertical-align: middle;"><div style="position: absolute; left: 1px; top: -2px; width: 13px; height: 11px; overflow: hidden; display: none; box-sizing: unset;"><img alt="" src="./mobileQuest_files/imgs8.png" draggable="false" style="position: absolute; left: -52px; top: -44px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; width: 68px; height: 67px; box-sizing: unset;"></div></span><label style="vertical-align: middle; cursor: pointer; box-sizing: unset;">Relieve</label></div></div></div><div class="gm-style-mtc" style="float: left; position: relative; box-sizing: unset;"><div role="button" tabindex="0" title="Muestra las imágenes de satélite" aria-label="Muestra las imágenes de satélite" aria-pressed="false" draggable="false" style="direction: ltr; overflow: hidden; text-align: center; position: relative; color: rgb(86, 86, 86); font-family: Roboto, Arial, sans-serif; user-select: none; font-size: 11px; background-color: rgb(255, 255, 255); padding: 8px; border-bottom-right-radius: 2px; border-top-right-radius: 2px; background-clip: padding-box; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px; min-width: 37px; border-left: 0px; box-sizing: unset;">Satélite</div><div style="background-color: white; z-index: -1; padding: 2px; border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px; position: absolute; right: 0px; top: 29px; text-align: left; display: none; box-sizing: unset;"><div draggable="false" title="Muestra las imágenes con los nombres de las calles" style="color: rgb(0, 0, 0); font-family: Roboto, Arial, sans-serif; user-select: none; font-size: 11px; background-color: rgb(255, 255, 255); padding: 6px 8px 6px 6px; direction: ltr; text-align: left; white-space: nowrap; box-sizing: unset;"><span role="checkbox" style="box-sizing: unset; position: relative; line-height: 0; font-size: 0px; margin: 0px 5px 0px 0px; display: inline-block; background-color: rgb(255, 255, 255); border: 1px solid rgb(198, 198, 198); border-radius: 1px; width: 13px; height: 13px; vertical-align: middle;"><div style="position: absolute; left: 1px; top: -2px; width: 13px; height: 11px; overflow: hidden; box-sizing: unset;"><img alt="" src="./mobileQuest_files/imgs8.png" draggable="false" style="position: absolute; left: -52px; top: -44px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; width: 68px; height: 67px; box-sizing: unset;"></div></span><label style="vertical-align: middle; cursor: pointer; box-sizing: unset;">Etiquetas</label></div></div></div></div></div></div></div>
    
	<div id="contenedor_referencia" style="height: 553px; display: none; box-sizing: unset;">
        <ul class="referencia" style="box-sizing: unset;">
        <li style="background: url(&quot;../../images/encendido_movimiento_referencia.png&quot;) 1% center no-repeat; width: 81%; padding-top: 9%; padding-left: 20%; padding-bottom: 9%; box-sizing: unset;">Encendido con velocidad y dirección</li>
          <li style="background: url(&quot;../../images/apagado_parada_referencia.png&quot;) 1% center no-repeat; width: 81%; padding-top: 8%; padding-left: 20%; padding-bottom: 8%; box-sizing: unset;">Apagado con un tiempo de parada mayor o igual al valor establecido</li>
          <li style="background: url(&quot;../../images/esfera_referencia.png&quot;) 1% center no-repeat; width: 81%; padding-top: 17%; padding-left: 20%; padding-bottom: 17%; box-sizing: unset;">Detenido, con motor encendido o apagado respectivamente</li>
          <li style="background: url(&quot;../../images/buffer.png&quot;) 1% center no-repeat; width: 81%; padding-top: 9%; padding-left: 20%; padding-bottom: 9%; box-sizing: unset;">Enviando datos de memoria</li>
          <li style="background: url(&quot;../../images/panico.png&quot;) 1% center no-repeat; width: 81%; padding-top: 9%; padding-left: 20%; padding-bottom: 9%; box-sizing: unset;">Pánico presionado</li>
          <li style="background: url(&quot;../../images/contorno_rojo.png&quot;) 1% center no-repeat; width: 81%; padding-top: 10%; padding-left: 20%; padding-bottom: 10%; box-sizing: unset;">Sin reportarse al servidor</li>
          <li style="background: url(&quot;../../images/contorno_amarillo.png&quot;) 1% center no-repeat; width: 81%; padding-top: 10%; padding-left: 20%; padding-bottom: 10%; box-sizing: unset;">Sin señal de GPS</li>
        </ul> 
    </div>  
    
    <div id="cargando" style="position: absolute; z-index: 10003; left: 45%; top: 50%; display: none; box-sizing: unset;"><img src="./mobileQuest_files/ajax-loader.gif" width="32" height="32" style="box-sizing: unset;"></div>


<div class="ui-multiselect-menu ui-widget ui-widget-content ui-corner-all" style="width: 217px; box-sizing: unset;"><div class="ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix ui-multiselect-hasfilter" style="box-sizing: unset;"><div class="ui-multiselect-filter" style="box-sizing: unset;">Filter:<input placeholder="Enter keywords" type="search" style="box-sizing: unset;"></div><ul class="ui-helper-reset" style="box-sizing: unset;"><li style="box-sizing: unset;"><a class="ui-multiselect-all" href="http://mobilequest.com.ar/seguimiento2.php#" style="box-sizing: unset;"><span class="ui-icon ui-icon-check" style="box-sizing: unset;"></span><span style="box-sizing: unset;">tildar</span></a></li><li style="box-sizing: unset;"><a class="ui-multiselect-none" href="http://mobilequest.com.ar/seguimiento2.php#" style="box-sizing: unset;"><span class="ui-icon ui-icon-closethick" style="box-sizing: unset;"></span><span style="box-sizing: unset;">destildar</span></a></li><li class="ui-multiselect-close" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" class="ui-multiselect-close" style="box-sizing: unset;"><span class="ui-icon ui-icon-circle-close" style="box-sizing: unset;"></span></a></li></ul></div><ul class="ui-multiselect-checkboxes ui-helper-reset" style="box-sizing: unset;"></ul></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-draggable ui-dialog-buttons" tabindex="-1" role="dialog" aria-describedby="dialogo" aria-labelledby="ui-id-9" style="height: auto; width: 300px; top: 243px; left: 486.5px; display: none; box-sizing: unset;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix" style="box-sizing: unset;"><span id="ui-id-9" class="ui-dialog-title" style="box-sizing: unset;">&nbsp;</span><button class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" aria-disabled="false" title="close" style="box-sizing: unset;"><span class="ui-button-icon-primary ui-icon ui-icon-closethick" style="box-sizing: unset;"></span><span class="ui-button-text" style="box-sizing: unset;">close</span></button></div><div id="dialogo" class="ui-dialog-content ui-widget-content" style="width: auto; min-height: 0px; max-height: none; height: auto; box-sizing: unset;"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix" style="box-sizing: unset;"><div class="ui-dialog-buttonset" style="box-sizing: unset;"><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false" style="box-sizing: unset;"><span class="ui-button-text" style="box-sizing: unset;">Aceptar</span></button></div></div></div><div id="ui-datepicker-div" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all" style="position: absolute; top: 213.198px; left: 335.573px; z-index: 5; display: none; box-sizing: unset;"><div class="ui-datepicker-header ui-widget-header ui-helper-clearfix ui-corner-all"><a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="&lt;Ant"><span class="ui-icon ui-icon-circle-triangle-w">&lt;Ant</span></a><a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="Sig&gt;"><span class="ui-icon ui-icon-circle-triangle-e">Sig&gt;</span></a><div class="ui-datepicker-title"><span class="ui-datepicker-month">Septiembre</span>&nbsp;<span class="ui-datepicker-year">2018</span></div></div><table class="ui-datepicker-calendar"><thead><tr><th><span title="Lunes">Lu</span></th><th><span title="Martes">Ma</span></th><th><span title="Miércoles">Mi</span></th><th><span title="Jueves">Ju</span></th><th><span title="Viernes">Vi</span></th><th class="ui-datepicker-week-end"><span title="Sábado">Sá</span></th><th class="ui-datepicker-week-end"><span title="Domingo">Do</span></th></tr></thead><tbody><tr><td class=" ui-datepicker-other-month ui-datepicker-unselectable ui-state-disabled">&nbsp;</td><td class=" ui-datepicker-other-month ui-datepicker-unselectable ui-state-disabled">&nbsp;</td><td class=" ui-datepicker-other-month ui-datepicker-unselectable ui-state-disabled">&nbsp;</td><td class=" ui-datepicker-other-month ui-datepicker-unselectable ui-state-disabled">&nbsp;</td><td class=" ui-datepicker-other-month ui-datepicker-unselectable ui-state-disabled">&nbsp;</td><td class=" ui-datepicker-week-end " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">1</a></td><td class=" ui-datepicker-week-end " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">2</a></td></tr><tr><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">3</a></td><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">4</a></td><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">5</a></td><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">6</a></td><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">7</a></td><td class=" ui-datepicker-week-end " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">8</a></td><td class=" ui-datepicker-week-end " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">9</a></td></tr><tr><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">10</a></td><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">11</a></td><td class=" ui-datepicker-days-cell-over  ui-datepicker-current-day ui-datepicker-today" data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default ui-state-highlight ui-state-active ui-state-hover" href="http://mobilequest.com.ar/seguimiento2.php#">12</a></td><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">13</a></td><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">14</a></td><td class=" ui-datepicker-week-end " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">15</a></td><td class=" ui-datepicker-week-end " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">16</a></td></tr><tr><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">17</a></td><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">18</a></td><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">19</a></td><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">20</a></td><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">21</a></td><td class=" ui-datepicker-week-end " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">22</a></td><td class=" ui-datepicker-week-end " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">23</a></td></tr><tr><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">24</a></td><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">25</a></td><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">26</a></td><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">27</a></td><td class=" " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">28</a></td><td class=" ui-datepicker-week-end " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">29</a></td><td class=" ui-datepicker-week-end " data-handler="selectDay" data-event="click" data-month="8" data-year="2018"><a class="ui-state-default" href="http://mobilequest.com.ar/seguimiento2.php#">30</a></td></tr></tbody></table><div class="ui-timepicker-div" id="ui-timepicker-div-fecha_hasta"><dl><dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_fecha_hasta">Horario</dt><dd class="ui_tpicker_time" id="ui_tpicker_time_fecha_hasta">00:00 </dd><dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_fecha_hasta">Horas</dt><dd class="ui_tpicker_hour ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" id="ui_tpicker_hour_fecha_hasta"><a class="ui-slider-handle ui-state-default ui-corner-all" href="http://mobilequest.com.ar/seguimiento2.php#" style="left: 0%;"></a></dd><dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_fecha_hasta">Minutos</dt><dd class="ui_tpicker_minute ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" id="ui_tpicker_minute_fecha_hasta"><a class="ui-slider-handle ui-state-default ui-corner-all" href="http://mobilequest.com.ar/seguimiento2.php#" style="left: 0%;"></a></dd><dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_fecha_hasta" style="display:none;">Segundos</dt><dd class="ui_tpicker_second ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" id="ui_tpicker_second_fecha_hasta" style="display:none;"><a class="ui-slider-handle ui-state-default ui-corner-all" href="http://mobilequest.com.ar/seguimiento2.php#" style="left: 0%;"></a></dd><dt class="ui_tpicker_millisec_label" id="ui_tpicker_millisec_label_fecha_hasta" style="display:none;">Millisecond</dt><dd class="ui_tpicker_millisec ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" id="ui_tpicker_millisec_fecha_hasta" style="display:none;"><a class="ui-slider-handle ui-state-default ui-corner-all" href="http://mobilequest.com.ar/seguimiento2.php#" style="left: 0%;"></a></dd><dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_fecha_hasta" style="display:none;">Time Zone</dt><dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_fecha_hasta" style="display:none;"><select><option value="-1100">-1100</option><option value="-1000">-1000</option><option value="-0900">-0900</option><option value="-0800">-0800</option><option value="-0700">-0700</option><option value="-0600">-0600</option><option value="-0500">-0500</option><option value="-0400">-0400</option><option value="-0300">-0300</option><option value="-0200">-0200</option><option value="-0100">-0100</option><option value="+0000">+0000</option><option value="+0100">+0100</option><option value="+0200">+0200</option><option value="+0300">+0300</option><option value="+0400">+0400</option><option value="+0500">+0500</option><option value="+0600">+0600</option><option value="+0700">+0700</option><option value="+0800">+0800</option><option value="+0900">+0900</option><option value="+1000">+1000</option><option value="+1100">+1100</option><option value="+1200">+1200</option></select></dd></dl></div><div class="ui-datepicker-buttonpane ui-widget-content"><button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all ui-button ui-widget ui-button-text-only" data-handler="today" data-event="click" role="button" aria-disabled="false"><span class="ui-button-text">Hoy</span></button><button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all ui-button ui-widget ui-button-text-only" data-handler="hide" data-event="click" role="button" aria-disabled="false"><span class="ui-button-text">Cerrar</span></button></div></div><div class="ui-selectmenu-menu" style="width: 52px; top: 613.625px; left: 204.167px; box-sizing: unset;"><ul aria-hidden="true" aria-labelledby="tiempo_min_detencion-button" id="tiempo_min_detencion-menu" class="ui-menu ui-widget ui-widget-content ui-corner-bottom" role="listbox" tabindex="0" aria-activedescendant="ui-id-20" aria-disabled="false" style="box-sizing: unset;"><li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="ui-id-19" class="ui-corner-all" tabindex="-1" role="option" style="box-sizing: unset;">1</a></li><li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="ui-id-20" class="ui-corner-all ui-state-focus" tabindex="-1" role="option" style="box-sizing: unset;">5</a></li><li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="ui-id-21" class="ui-corner-all" tabindex="-1" role="option" style="box-sizing: unset;">10</a></li><li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="ui-id-22" class="ui-corner-all" tabindex="-1" role="option" style="box-sizing: unset;">15</a></li><li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="ui-id-23" class="ui-corner-all" tabindex="-1" role="option" style="box-sizing: unset;">30</a></li><li class="ui-menu-item" role="presentation" style="box-sizing: unset;"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="ui-id-24" class="ui-corner-all" tabindex="-1" role="option" style="box-sizing: unset;">60</a></li></ul></div><div class="ui-selectmenu-menu" style="width: 132px; box-sizing: unset; top: 34px; left: 113.99px;"><ul aria-hidden="true" aria-labelledby="grupo-button" id="grupo-menu" class="ui-menu ui-widget ui-widget-content ui-corner-bottom overflow_select" role="listbox" tabindex="0" style="box-sizing: unset;" aria-activedescendant="ui-id-38" aria-disabled="false"><li class="ui-menu-item" role="presentation"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="ui-id-38" class="ui-corner-all ui-state-focus" tabindex="-1" role="option">Grupo</a></li><li class="ui-menu-item" role="presentation"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="ui-id-39" class="ui-corner-all" tabindex="-1" role="option">camionetas</a></li></ul></div><div class="ui-selectmenu-menu" style="width: 132px; box-sizing: unset;"><ul aria-hidden="true" aria-labelledby="dominios-button" id="dominios-menu" class="ui-menu ui-widget ui-widget-content ui-corner-bottom overflow_select" role="listbox" tabindex="0" aria-activedescendant="ui-id-52" aria-disabled="false" style="box-sizing: unset;"><li class="ui-menu-item" role="presentation"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="ui-id-50" class="ui-corner-all" tabindex="-1" role="option">Test 1</a></li><li class="ui-menu-item" role="presentation"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="ui-id-51" class="ui-corner-all" tabindex="-1" role="option">Test 2</a></li><li class="ui-menu-item" role="presentation"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="ui-id-52" class="ui-corner-all ui-state-focus" tabindex="-1" role="option">Test 4</a></li><li class="ui-menu-item" role="presentation"><a href="http://mobilequest.com.ar/seguimiento2.php#" id="ui-id-53" class="ui-corner-all" tabindex="-1" role="option">Test 5</a></li></ul></div><div class="ui-selectmenu-menu" style="width: 38px; box-sizing: unset;"><ul aria-hidden="true" aria-labelledby="tiempo_min-button" id="tiempo_min-menu" class="ui-menu ui-widget ui-widget-content ui-corner-bottom" role="listbox" tabindex="0" style="box-sizing: unset;"></ul></div><div class="ui-multiselect-menu ui-widget ui-widget-content ui-corner-all" style="width: 217px;"><div class="ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix"><ul class="ui-helper-reset"><li><a class="ui-multiselect-all" href="http://mobilequest.com.ar/seguimiento2.php#"><span class="ui-icon ui-icon-check"></span><span>tildar</span></a></li><li><a class="ui-multiselect-none" href="http://mobilequest.com.ar/seguimiento2.php#"><span class="ui-icon ui-icon-closethick"></span><span>destildar</span></a></li><li class="ui-multiselect-close"><a href="http://mobilequest.com.ar/seguimiento2.php#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li></ul></div><ul class="ui-multiselect-checkboxes ui-helper-reset"><li class=" "><label for="ui-multiselect-dias_semana-option-0" title="" class="ui-corner-all"><input id="ui-multiselect-dias_semana-option-0" name="multiselect_dias_semana" type="checkbox" value="1" title="Domingo"><span>Domingo</span></label></li><li class=" "><label for="ui-multiselect-dias_semana-option-1" title="" class="ui-corner-all"><input id="ui-multiselect-dias_semana-option-1" name="multiselect_dias_semana" type="checkbox" value="2" title="Lunes"><span>Lunes</span></label></li><li class=" "><label for="ui-multiselect-dias_semana-option-2" title="" class="ui-corner-all"><input id="ui-multiselect-dias_semana-option-2" name="multiselect_dias_semana" type="checkbox" value="3" title="Martes"><span>Martes</span></label></li><li class=" "><label for="ui-multiselect-dias_semana-option-3" title="" class="ui-corner-all"><input id="ui-multiselect-dias_semana-option-3" name="multiselect_dias_semana" type="checkbox" value="4" title="Miércoles"><span>Miércoles</span></label></li><li class=" "><label for="ui-multiselect-dias_semana-option-4" title="" class="ui-corner-all"><input id="ui-multiselect-dias_semana-option-4" name="multiselect_dias_semana" type="checkbox" value="5" title="Jueves"><span>Jueves</span></label></li><li class=" "><label for="ui-multiselect-dias_semana-option-5" title="" class="ui-corner-all"><input id="ui-multiselect-dias_semana-option-5" name="multiselect_dias_semana" type="checkbox" value="6" title="Viernes"><span>Viernes</span></label></li><li class=" "><label for="ui-multiselect-dias_semana-option-6" title="" class="ui-corner-all"><input id="ui-multiselect-dias_semana-option-6" name="multiselect_dias_semana" type="checkbox" value="7" title="Sábado"><span>Sábado</span></label></li></ul></div><div class="ui-multiselect-menu ui-widget ui-widget-content ui-corner-all" style="width: 217px; top: 168.531px; left: 220px; display: none;"><div class="ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix ui-multiselect-hasfilter"><div class="ui-multiselect-filter">Filter:<input placeholder="Enter keywords" type="search"></div><ul class="ui-helper-reset"><li><a class="ui-multiselect-all" href="http://mobilequest.com.ar/seguimiento2.php#"><span class="ui-icon ui-icon-check"></span><span>tildar</span></a></li><li><a class="ui-multiselect-none" href="http://mobilequest.com.ar/seguimiento2.php#"><span class="ui-icon ui-icon-closethick"></span><span>destildar</span></a></li><li class="ui-multiselect-close"><a href="http://mobilequest.com.ar/seguimiento2.php#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li></ul></div><ul class="ui-multiselect-checkboxes ui-helper-reset" style="height: 175px;"><li class=" "><label for="ui-multiselect-vehiculos-option-0" title="" class="ui-corner-all ui-state-hover"><input id="ui-multiselect-vehiculos-option-0" name="multiselect_vehiculos" type="checkbox" value="0" title="Test 1" aria-selected="true"><span>Test 1</span></label></li><li class=" "><label for="ui-multiselect-vehiculos-option-1" title="" class="ui-corner-all"><input id="ui-multiselect-vehiculos-option-1" name="multiselect_vehiculos" type="checkbox" value="1" title="Test 2" aria-selected="true"><span>Test 2</span></label></li><li class=" "><label for="ui-multiselect-vehiculos-option-2" title="" class="ui-corner-all"><input id="ui-multiselect-vehiculos-option-2" name="multiselect_vehiculos" type="checkbox" value="2" title="Test 4" aria-selected="true"><span>Test 4</span></label></li><li class=" "><label for="ui-multiselect-vehiculos-option-3" title="" class="ui-corner-all"><input id="ui-multiselect-vehiculos-option-3" name="multiselect_vehiculos" type="checkbox" value="3" title="Test 5" aria-selected="true"><span>Test 5</span></label></li></ul></div></body></html>